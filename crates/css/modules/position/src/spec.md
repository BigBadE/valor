# position Module - Chapter Specification

<!-- BEGIN VERBATIM SPEC: DO NOT EDIT BELOW. This block is auto-generated by scripts/vendor_css_spec.sh -->

<h2 class="heading settled" data-level="2" id="position-property"><span class="secno">2. </span><span class="content"> Choosing A Positioning Scheme: <a class="property css" data-link-type="property" href="#propdef-position" id="ref-for-propdef-position①">position</a> property</span><a class="self-link" href="#position-property"></a></h2>
<details class="valor-spec" data-level="2">
  <summary>Show spec text</summary>

<table class="def propdef" data-link-for-hint="position">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-position">position</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">static <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> relative <span id="ref-for-comb-one①">|</span> absolute <span id="ref-for-comb-one②">|</span> sticky <span id="ref-for-comb-one③">|</span> fixed 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>static 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td>all elements except table-column-group and table-column 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>N/A 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>specified keyword 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>discrete 
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-position" id="ref-for-propdef-position②">position</a> property determines which of the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="positioning scheme" id="positioning-scheme">positioning schemes</dfn> is used to calculate the position of a box.
	Values other than <a class="css" data-link-type="maybe" href="#valdef-position-static" id="ref-for-valdef-position-static">static</a> make the box a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="positioned box|positioned" id="positioned-box">positioned box</dfn>,
	and cause it to establish an <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="absolute-positioning-containing-block">absolute positioning containing block</dfn> for its descendants.
	Values have the following meanings:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="position" data-dfn-type="value" data-export id="valdef-position-static">static</dfn> 
    <dd> The box is not a <a data-link-type="dfn" href="#positioned-box" id="ref-for-positioned-box">positioned box</a>,
		and is laid out according to the rules of its parent <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#formatting-context" id="ref-for-formatting-context">formatting context</a>.
		The <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①">inset properties</a> do not apply. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="position" data-dfn-type="value" data-export id="valdef-position-relative">relative</dfn> 
    <dd> The box is laid out as for <a class="css" data-link-type="maybe" href="#valdef-position-static" id="ref-for-valdef-position-static①">static</a>,
		then offset from the resulting position.
		This offsetting is a purely visual effect,
		and, unless otherwise specified,
		does not affect the size or position of any other non-descendant box
		except insofar as it increases the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region" id="ref-for-scrollable-overflow-region">scrollable overflow area</a> of its ancestors.
		This <a data-link-type="dfn" href="#positioning-scheme" id="ref-for-positioning-scheme②">positioning scheme</a> is called <dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export data-local-lt="relative|relatively" data-lt="relative position | relatively position | relatively-positioned | relatively positioned box" id="relative-position">relative positioning</dfn>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="position" data-dfn-type="value" data-export id="valdef-position-sticky">sticky</dfn> 
    <dd> Identical to <a class="css" data-link-type="maybe" href="#valdef-position-relative" id="ref-for-valdef-position-relative">relative</a>,
		except that its offsets are automatically adjusted
		in reference to the nearest ancestor <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container">scroll container’s</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport">scrollport</a> (as modified by the <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties②">inset properties</a>)
		in whichever axes the <span id="ref-for-inset-properties③">inset properties</span> are not both <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto">auto</a>,
		to try to keep the box in view within its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①">containing block</a> as the user scrolls.
		This <a data-link-type="dfn" href="#positioning-scheme" id="ref-for-positioning-scheme③">positioning scheme</a> is called <dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export data-local-lt="sticky" data-lt="sticky position | sticky-positioned | sticky-positioned box" id="sticky-position">sticky positioning</dfn>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="position" data-dfn-type="value" data-export id="valdef-position-absolute">absolute</dfn> 
    <dd>
      The box is taken <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#out-of-flow" id="ref-for-out-of-flow①">out of flow</a> such that it has no impact on the size or position of its siblings and ancestors,
		and does not participate in its parent’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#formatting-context" id="ref-for-formatting-context①">formatting context</a>. 
     <p>Instead, the box is positioned and sized solely in reference to
		its <a data-link-type="dfn" href="#absolute-positioning-containing-block" id="ref-for-absolute-positioning-containing-block">absolute positioning containing block</a>,
		as modified by the box’s <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties④">inset properties</a>,
		see <a href="#abspos-layout">§ 4 Absolute Positioning Layout Model</a>.
		It can overlap <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#in-flow" id="ref-for-in-flow">in-flow</a> content
		or other <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position②">absolutely positioned</a> elements,
		and is included in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region" id="ref-for-scrollable-overflow-region①">scrollable overflow area</a> of the box that generates is <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block②">containing block</a>.
		This <a data-link-type="dfn" href="#positioning-scheme" id="ref-for-positioning-scheme④">positioning scheme</a> is called <dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export data-local-lt="absolute|absolutely" data-lt="absolute position | absolutely position | absolutely-positioned | absolutely positioned box | absolutely positioned element" id="absolute-position">absolute positioning</dfn>.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="position" data-dfn-type="value" data-export id="valdef-position-fixed">fixed</dfn> 
    <dd>
      Same as <a class="css" data-link-type="maybe" href="#valdef-position-absolute" id="ref-for-valdef-position-absolute">absolute</a>,
		except the box is positioned and sized relative to a <a data-link-type="dfn" href="#fixed-positioning-containing-block" id="ref-for-fixed-positioning-containing-block">fixed positioning containing block</a> (usually the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x1" id="ref-for-x1">viewport</a> in <a data-link-type="dfn" href="https://www.w3.org/TR/mediaqueries-5/#continuous-media" id="ref-for-continuous-media">continuous media</a>, or the <a data-link-type="dfn" href="https://www.w3.org/TR/css-page-3/#page-area" id="ref-for-page-area">page area</a> in <a data-link-type="dfn" href="https://www.w3.org/TR/mediaqueries-5/#paged-media" id="ref-for-paged-media">paged media</a>).
		The box’s position is fixed with respect to this reference rectangle:
		when attached to the <span id="ref-for-x1①">viewport</span> it does not move when the document is scrolled,
		and when attached to the <span id="ref-for-page-area①">page area</span> is replicated on every page when the document is paginated.
		This <a data-link-type="dfn" href="#positioning-scheme" id="ref-for-positioning-scheme⑤">positioning scheme</a> is called <dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export data-local-lt="fixed" data-lt="fixed position | fixed-positioned | fixed-positioned box" id="fixed-position">fixed positioning</dfn> and is considered a subset of <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position③">absolute positioning</a>. 
     <div class="example" id="example-d41e8cfe">
      <a class="self-link" href="#example-d41e8cfe"></a> Authors may wish to specify <a class="css" data-link-type="maybe" href="#valdef-position-fixed" id="ref-for-valdef-position-fixed">fixed</a> in a media-dependent way.
			For instance, an author may want a box to remain at the top of the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x1" id="ref-for-x1②">viewport</a> on the screen,
			but not at the top of each printed page.
			The two specifications may be separated by using an <a href="https://www.w3.org/TR/CSS2/media.html#at-media-rule">'@media'</a> rule, as in: 
<pre class="highlight"><c- n>@media</c-> screen <c- p>{</c->
    h1#first <c- p>{</c-> <c- k>position</c-><c- p>:</c-> fixed <c- p>}</c->
<c- p>}</c->
<c- n>@media</c-> print <c- p>{</c->
    h1#first <c- p>{</c-> <c- k>position</c-><c- p>:</c-> static <c- p>}</c->
<c- p>}</c->
</pre>
     </div>
   </dl>
   <p>A <a class="property css" data-link-type="property" href="#propdef-position" id="ref-for-propdef-position③">position</a> value of <a class="css" data-link-type="maybe" href="#valdef-position-absolute" id="ref-for-valdef-position-absolute①">absolute</a> or <a class="css" data-link-type="maybe" href="#valdef-position-fixed" id="ref-for-valdef-position-fixed①">fixed</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#blockify" id="ref-for-blockify">blockifies</a> the box,
	causes <a class="property css" data-link-type="property">float</a> to compute to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-float-none" id="ref-for-valdef-float-none">none</a>,
	and forces the box to <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#establish-an-independent-formatting-context" id="ref-for-establish-an-independent-formatting-context">establish an independent formatting context</a>.</p>

</details>
<h3 class="heading settled" data-level="2.1" id="def-cb"><span class="secno">2.1. </span><span class="content"> Containing Blocks of Positioned Boxes</span><a class="self-link" href="#def-cb"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>The <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③">containing block</a> of a <a class="css" data-link-type="maybe" href="#valdef-position-static" id="ref-for-valdef-position-static②">static</a>, <a class="css" data-link-type="maybe" href="#valdef-position-relative" id="ref-for-valdef-position-relative①">relative</a>, or <a class="css" data-link-type="maybe" href="#valdef-position-sticky" id="ref-for-valdef-position-sticky">sticky</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#box" id="ref-for-box">box</a> is as defined by its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#formatting-context" id="ref-for-formatting-context②">formatting context</a>.
	For <a class="css" data-link-type="maybe" href="#valdef-position-fixed" id="ref-for-valdef-position-fixed②">fixed</a> and <a class="css" data-link-type="maybe" href="#valdef-position-absolute" id="ref-for-valdef-position-absolute②">absolute</a> boxes,
	it is defined as follows:</p>
   <dl class="switch">
    <dt id="absolute-cb"><a class="self-link" href="#absolute-cb"></a>If the box has <a class="css" data-link-type="propdesc" href="#propdef-position" id="ref-for-propdef-position④">position: absolute</a>: 
    <dd>
      The <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④">containing block</a> is established
			by the nearest ancestor box that establishes an <a data-link-type="dfn" href="#absolute-positioning-containing-block" id="ref-for-absolute-positioning-containing-block①">absolute positioning containing block</a>,
			in the following way: 
     <dl class="switch">
      <dt>If the ancestor is not an <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#inline-box" id="ref-for-inline-box">inline box</a>, 
      <dd> the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block⑤">containing block</a> is formed by the <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#padding-edge" id="ref-for-padding-edge">padding edge</a> of the ancestor,
					unless otherwise specified
					(for example, see <a href="https://www.w3.org/TR/css-grid-1/#abspos-items"><cite>CSS Grid Layout 1</cite> § 9.1 With a Grid Container as Containing Block</a>). 
      <dt>If the ancestor is an <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#inline-box" id="ref-for-inline-box①">inline box</a>,
					using the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode">writing mode</a> of that box, 
      <dd>
        the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block⑥">containing block</a> is formed by forming a rectangle from
					the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start">start</a>-most <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#content-edge" id="ref-for-content-edge">content edges</a> (in both axes) of the first <a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#box-fragment" id="ref-for-box-fragment">box fragment</a> of the ancestor,
					and the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end">end</a>-most <span id="ref-for-content-edge①">content edges</span> of the <span id="ref-for-end①">end</span>-most <span id="ref-for-box-fragment①">box fragment</span>(s) of the ancestor in each axis.
					If there are multiple fragments on the same line
					(e.g. due to <a href="https://www.w3.org/TR/css-writing-modes-3/#bidi-box-model">bidi reordering</a>),
					take the <span id="ref-for-start①">start</span>-most fragment
					as the first fragment. 
       <p class="issue" id="issue-d9a49098"><a class="self-link" href="#issue-d9a49098"></a> What is a useful containing block to form
					when the box is fragmented across multiple lines? <a href="https://github.com/w3c/csswg-drafts/issues/8284">[Issue #8284]</a></p>
       <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block⑦">containing block</a> formed by a fragmented <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#inline-box" id="ref-for-inline-box②">inline box</a> was undefined in <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>.</p>
     </dl>
     <p>If no ancestor establishes one,
			the <a data-link-type="dfn" href="#absolute-positioning-containing-block" id="ref-for-absolute-positioning-containing-block②">absolute positioning containing block</a> is
			the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#initial-containing-block" id="ref-for-initial-containing-block">initial containing block</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> Properties that can cause a box to establish
			an <a data-link-type="dfn" href="#absolute-positioning-containing-block" id="ref-for-absolute-positioning-containing-block③">absolute positioning containing block</a> include <a class="property css" data-link-type="property" href="#propdef-position" id="ref-for-propdef-position⑤">position</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform">transform</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-will-change-1/#propdef-will-change" id="ref-for-propdef-will-change">will-change</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-contain-2/#propdef-contain" id="ref-for-propdef-contain">contain</a>…</p>
    <dt id="fixed-cb"><a class="self-link" href="#fixed-cb"></a>If the box has <a class="css" data-link-type="propdesc" href="#propdef-position" id="ref-for-propdef-position⑥">position: fixed</a>: 
    <dd>
      The <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block⑧">containing block</a> is established
			by the nearest ancestor box that establishes an <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="fixed-positioning-containing-block">fixed positioning containing block</dfn>,
			with the bounds of the <span id="ref-for-containing-block⑨">containing block</span> determined identically to the <a data-link-type="dfn" href="#absolute-positioning-containing-block" id="ref-for-absolute-positioning-containing-block④">absolute positioning containing block</a>. 
     <p class="note" role="note"><span class="marker">Note:</span> Properties that can cause a box to establish
			a <a data-link-type="dfn" href="#fixed-positioning-containing-block" id="ref-for-fixed-positioning-containing-block①">fixed positioning containing block</a> include <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform①">transform</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-will-change-1/#propdef-will-change" id="ref-for-propdef-will-change①">will-change</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-contain-2/#propdef-contain" id="ref-for-propdef-contain①">contain</a>…</p>
     <p>If no ancestor establishes one,
			the <a data-link-type="dfn" href="#fixed-positioning-containing-block" id="ref-for-fixed-positioning-containing-block②">fixed positioning containing block</a> is:</p>
     <ul>
      <li data-md>
       <p>in <a data-link-type="dfn" href="https://www.w3.org/TR/mediaqueries-5/#continuous-media" id="ref-for-continuous-media①">continuous media</a>,
the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#layout-viewport" id="ref-for-layout-viewport">layout viewport</a> (whose size matches the <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#dynamic-viewport-size" id="ref-for-dynamic-viewport-size">dynamic viewport size</a>);
as a result, <a data-link-type="dfn" href="#fixed-position" id="ref-for-fixed-position②">fixed</a> boxes do not move when the document is scrolled.</p>
       <p class="note" role="note"><span class="marker">Note:</span> In this respect, they are similar to <a href="https://www.w3.org/TR/css-backgrounds-3/#background-attachment">fixed background images</a> (<a class="css" data-link-type="propdesc" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-background-attachment" id="ref-for-propdef-background-attachment">background-attachment: fixed</a>).</p>
      <li data-md>
       <p>in <a data-link-type="dfn" href="https://www.w3.org/TR/mediaqueries-5/#paged-media" id="ref-for-paged-media①">paged media</a>,
the <a data-link-type="dfn" href="https://www.w3.org/TR/css-page-3/#page-area" id="ref-for-page-area②">page area</a> of each page; <a data-link-type="dfn" href="#fixed-position" id="ref-for-fixed-position③">fixed positioned</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#box" id="ref-for-box①">boxes</a> are thus replicated on every page.
(They are fixed with respect to the page box only,
and are not affected by being seen through a <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x1" id="ref-for-x1③">viewport</a>;
as in the case of print preview, for example.)</p>
     </ul>
     <p class="note" role="note"><span class="marker">Note:</span> As a result, parts of <a data-link-type="dfn" href="#fixed-position" id="ref-for-fixed-position④">fixed-positioned boxes</a> that extend outside the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#layout-viewport" id="ref-for-layout-viewport①">layout viewport</a>/<a data-link-type="dfn" href="https://www.w3.org/TR/css-page-3/#page-area" id="ref-for-page-area③">page area</a> cannot be scrolled to
			and will not print.</p>
   </dl>
   <div class="example" id="example-7f074eae">
    <a class="self-link" href="#example-7f074eae"></a> 
    <p>With no positioning, the containing blocks (C.B.) in the following document:</p>
<pre class="highlight"><c- cp>&lt;!DOCTYPE html></c->
<c- p>&lt;</c-><c- f>html</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>head</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>title</c-><c- p>></c->Illustration of containing blocks<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>head</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>body</c-> <c- e>id</c-><c- o>=</c-><c- s>"body"</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>"div1"</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>p</c-> <c- e>id</c-><c- o>=</c-><c- s>"p1"</c-><c- p>></c->This is text in the first paragraph...<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>p</c-> <c- e>id</c-><c- o>=</c-><c- s>"p2"</c-><c- p>></c->This is text <c- p>&lt;</c-><c- f>em</c-> <c- e>id</c-><c- o>=</c-><c- s>"em1"</c-><c- p>></c-> in the
        <c- p>&lt;</c-><c- f>strong</c-> <c- e>id</c-><c- o>=</c-><c- s>"strong1"</c-><c- p>></c->second<c- p>&lt;/</c-><c- f>strong</c-><c- p>></c-> paragraph.<c- p>&lt;/</c-><c- f>em</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
        <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>body</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>html</c-><c- p>></c->
</pre>
    <p>are established as follows:</p>
    <table class="data">
     <tbody>
      <tr>
       <th>For box generated by 
       <th>C.B. is established by 
      <tr>
       <td>html
       <td>initial C.B. (UA-dependent) 
      <tr>
       <td>body
       <td>html 
      <tr>
       <td>div1
       <td>body 
      <tr>
       <td>p1
       <td>div1 
      <tr>
       <td>p2
       <td>div1 
      <tr>
       <td>em1
       <td>p2 
      <tr>
       <td>strong1
       <td>p2 
    </table>
    <p>If we position "div1":</p>
<pre class="highlight">#div1 <c- p>{</c-> <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>50</c-><c- k>px</c-><c- p>;</c-> <c- k>top</c-><c- p>:</c-> <c- m>50</c-><c- k>px</c-> <c- p>}</c->
</pre>
    <p>its containing block is no longer "body"; it becomes the <span>initial containing block</span> (since there are no other positioned ancestor boxes).</p>
    <p>If we position "em1" as well:</p>
<pre class="highlight">#div1 <c- p>{</c-> <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>50</c-><c- k>px</c-><c- p>;</c-> <c- k>top</c-><c- p>:</c-> <c- m>50</c-><c- k>px</c-> <c- p>}</c->
#em1  <c- p>{</c-> <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>100</c-><c- k>px</c-><c- p>;</c-> <c- k>top</c-><c- p>:</c-> <c- m>100</c-><c- k>px</c-> <c- p>}</c->
</pre>
    <p>the table of containing blocks becomes:</p>
    <table class="data">
     <tbody>
      <tr>
       <th>For box generated by 
       <th>C.B. is established by 
      <tr>
       <td>html
       <td>initial C.B. (UA-dependent) 
      <tr>
       <td>body
       <td>html 
      <tr>
       <td>div1
       <td>initial C.B. 
      <tr>
       <td>p1
       <td>div1 
      <tr>
       <td>p2
       <td>div1 
      <tr>
       <td>em1
       <td>div1 
      <tr>
       <td>strong1
       <td>em1 
    </table>
    <p>By positioning "em1", its containing block becomes the nearest positioned ancestor box
	(i.e., that generated by "div1").</p>
   </div>
   <h4 class="heading settled" data-level="2.1.1" id="original-cb"><span class="secno">2.1.1. </span><span class="content"> Further Adjustments to the Containing Block</span><a class="self-link" href="#original-cb"></a></h4>
   <p>Some features can alter the effective <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①⓪">containing block</a> rectangle
	of <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position④">absolutely positioned</a> boxes.
	These are applied in the following order,
	with earlier steps modifying the <span id="ref-for-containing-block①①">containing block</span> that later steps see:</p>
   <ol>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-placement-property" id="ref-for-grid-placement-property">grid-placement properties</a> on an <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position⑤">absolutely positioned box</a> whose <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①②">containing block</a> is generated by a <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container">grid container</a> can change the <span id="ref-for-containing-block①③">containing block</span> rectangle
to a specified <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-area" id="ref-for-grid-area">grid area</a>.
See <a href="https://www.w3.org/TR/css-grid-1/#abspos-items"><cite>CSS Grid Layout 1</cite> § 9.1 With a Grid Container as Containing Block</a>.</p>
    <li data-md>
     <p>The <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-anchor-position-1/#propdef-position-area" id="ref-for-propdef-position-area">position-area</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-anchor-position-1/#propdef-position-try" id="ref-for-propdef-position-try">position-try</a> properties
can change the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①④">containing block</a> rectangle
to a specified area of an <a data-link-type="dfn" href="https://www.w3.org/TR/css-anchor-position-1/#position-area-grid" id="ref-for-position-area-grid">position-area grid</a>.
See <a href="https://www.w3.org/TR/css-anchor-position-1/#position-area"><cite>CSS Anchor Positioning</cite> § 3.1 The position-area Property</a>.</p>
   </ol>
   <p>The element’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="original-containing-block">original containing block</dfn> is its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①⑤">containing block</a> before applying any of these effects.</p>

</details>
<h3 class="heading settled" data-level="2.2" id="stacking"><span class="secno">2.2. </span><span class="content"> Painting Order and Stacking Contexts</span><a class="self-link" href="#stacking"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>The <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index" id="ref-for-propdef-z-index">z-index</a> property applies to all <a data-link-type="dfn" href="#positioned-box" id="ref-for-positioned-box①">positioned boxes</a>.
	When <span class="property" id="ref-for-propdef-z-index①">z-index</span> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-z-index-auto" id="ref-for-valdef-z-index-auto">auto</a>:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#fixed-position" id="ref-for-fixed-position⑤">Fixed</a> and <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position②">sticky</a> <a data-link-type="dfn" href="#positioned-box" id="ref-for-positioned-box②">positioned boxes</a> nonetheless form a <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x43" id="ref-for-x43">stacking context</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#relative-position" id="ref-for-relative-position②">Relative</a> and <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position⑥">absolute</a> <a data-link-type="dfn" href="#positioned-box" id="ref-for-positioned-box③">positioned boxes</a> do not form a <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x43" id="ref-for-x43①">stacking context</a>,
but are painted as if those elements did generated new <span id="ref-for-x43②">stacking contexts</span>,
except that their <span id="ref-for-positioned-box④">positioned</span> descendants and any would-be child <span id="ref-for-x43③">stacking contexts</span> take part in the current <span id="ref-for-x43④">stacking context</span>.</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#root-element" id="ref-for-root-element">root element</a> always forms a <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x43" id="ref-for-x43⑤">stacking context</a> regardless.</p>
   <p>See <a href="https://www.w3.org/TR/CSS2/visuren.html#layers">CSS2 § 9.9
	Layered presentation</a> and <a href="https://www.w3.org/TR/CSS2/zindex.html">Appendix E: 
	Elaborate description of Stacking Contexts</a> for details about <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index" id="ref-for-propdef-z-index②">z-index</a>, <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x43" id="ref-for-x43⑥">stacking contexts</a>, and painting order.</p>

</details>
<h2 class="heading settled" data-level="3" id="coords"><span class="secno">3. </span><span class="content"> Positioning Coordinates</span><a class="self-link" href="#coords"></a></h2>
<details class="valor-spec" data-level="2">
  <summary>Show spec text</summary>

<p>The precise location of a <a data-link-type="dfn" href="#positioned-box" id="ref-for-positioned-box⑤">positioned box</a> is controlled by
	the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="inset-properties">inset properties</dfn>:
	the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#physical" id="ref-for-physical">physical</a> <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties⑤">inset properties</a> <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top">top</a>, <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right">right</a>, <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom">bottom</a>, <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left">left</a>;
	the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#flow-relative" id="ref-for-flow-relative">flow-relative</a> <span id="ref-for-inset-properties⑥">inset properties</span> <a class="property css" data-link-type="property" href="#propdef-inset-block-start" id="ref-for-propdef-inset-block-start">inset-block-start</a>, <a class="property css" data-link-type="property" href="#propdef-inset-inline-start" id="ref-for-propdef-inset-inline-start">inset-inline-start</a>, <a class="property css" data-link-type="property" href="#propdef-inset-block-end" id="ref-for-propdef-inset-block-end">inset-block-end</a>, and <a class="property css" data-link-type="property" href="#propdef-inset-inline-end" id="ref-for-propdef-inset-inline-end">inset-inline-end</a>;
	and their <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property">shorthands</a>, <a class="property css" data-link-type="property" href="#propdef-inset-block" id="ref-for-propdef-inset-block">inset-block</a>, <a class="property css" data-link-type="property" href="#propdef-inset-inline" id="ref-for-propdef-inset-inline">inset-inline</a>, and <a class="property css" data-link-type="property" href="#propdef-inset" id="ref-for-propdef-inset">inset</a>.</p>
   <p>The interpretation of these <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties⑦">inset properties</a> varies by <a data-link-type="dfn" href="#positioning-scheme" id="ref-for-positioning-scheme⑥">positioning scheme</a>:</p>
   <ul>
    <li data-md>
     <p>for <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position⑦">absolute positioning</a>, they represent
insets from the containing block.</p>
    <li data-md>
     <p>for <a data-link-type="dfn" href="#relative-position" id="ref-for-relative-position③">relative positioning</a>, they represent
insets from the box’s original margin edge.</p>
    <li data-md>
     <p>for <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position③">sticky positioning</a>, they represent
insets from the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport①">scrollport</a> edge.</p>
   </ul>

</details>
<h3 class="heading settled" data-level="3.1" id="insets"><span class="secno">3.1. </span><span class="content"> Box Insets: the <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top①">top</a>, <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right①">right</a>, <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①">bottom</a>, <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left①">left</a>, <a class="property css" data-link-type="property" href="#propdef-inset-block-start" id="ref-for-propdef-inset-block-start①">inset-block-start</a>, <a class="property css" data-link-type="property" href="#propdef-inset-inline-start" id="ref-for-propdef-inset-inline-start①">inset-inline-start</a>, <a class="property css" data-link-type="property" href="#propdef-inset-block-end" id="ref-for-propdef-inset-block-end①">inset-block-end</a>, and <a class="property css" data-link-type="property" href="#propdef-inset-inline-end" id="ref-for-propdef-inset-inline-end①">inset-inline-end</a> properties </span><a class="self-link" href="#insets"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<table class="def propdef" data-link-for-hint="top">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-top">top</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-right">right</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-bottom">bottom</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-left">left</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset-block-start">inset-block-start</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset-inline-start">inset-inline-start</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset-block-end">inset-block-end</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset-inline-end">inset-inline-end</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">auto <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage">&lt;length-percentage></a> 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>auto 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td>positioned elements 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>refer to size of <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①⑥">containing block</a>; see prose 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①">auto</a> or a computed <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage①">&lt;length-percentage></a> value 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value type 
     <tr>
      <th><a href="https://drafts.csswg.org/css-logical-1/#logical-property-group">Logical property group:</a>
      <td><a class="css" data-link-type="property" href="#propdef-inset" id="ref-for-propdef-inset①">inset</a> 
   </table>
   <p>These <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties⑧">inset properties</a> represent an inward “inset”
	on the corresponding side of the box
	(with respect to the box’s own <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode①">writing mode</a>;
	see <a href="https://www.w3.org/TR/css-writing-modes-3/#abstract-box"><cite>CSS Writing Modes 3</cite> § 6 Abstract Box Terminology</a>).
	For example, <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top②">top</a> represents a downward inset of the top edge.
	The <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#physical" id="ref-for-physical①">physical</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#flow-relative" id="ref-for-flow-relative①">flow-relative</a> properties
	interact as defined in <a data-link-type="biblio" href="#biblio-css-logical-1" title="CSS Logical Properties and Values Level 1">[CSS-LOGICAL-1]</a>.
	Values have the following meanings:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="top,right,bottom,left, inset-block-start,inset-inline-start,inset-block-end,inset-inline-end,inset-block,inset-inline,inset" data-dfn-type="value" data-export id="valdef-top-length">&lt;length></dfn> 
    <dd> The inset is a fixed distance from the reference edge.
			Negative values are allowed. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="top,right,bottom,left, inset-block-start,inset-inline-start,inset-block-end,inset-inline-end,inset-block,inset-inline,inset" data-dfn-type="value" data-export id="valdef-top-percentage">&lt;percentage></dfn> 
    <dd> The inset is a percentage
			relative to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①⑦">containing block</a>’s size
			in the corresponding axis
			(e.g. width for <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left②">left</a> or <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right②">right</a>, height for <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top③">top</a> and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom②">bottom</a>).
			For <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position④">sticky positioned</a> boxes,
			the inset is instead
			relative to the relevant <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport②">scrollport</a>’s size.
			Negative values are allowed. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="top,right,bottom,left, inset-block-start,inset-inline-start,inset-block-end,inset-inline-end,inset-block,inset-inline,inset" data-dfn-type="value" data-export id="valdef-top-auto">auto</dfn>
    <dd> Represents an unconstrained inset;
			the exact meaning depends on the <a data-link-type="dfn" href="#positioning-scheme" id="ref-for-positioning-scheme⑦">positioning scheme</a>. 
   </dl>
   <p class="note" role="note"><span class="marker">Note:</span> For <a data-link-type="dfn" href="#fixed-position" id="ref-for-fixed-position⑥">fixed positioned</a> elements,
	using large values or negative values
	can easily move elements outside the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x1" id="ref-for-x1④">viewport</a> and make the contents unreachable through scrolling or other means.</p>

</details>
<h3 class="heading settled" data-level="3.2" id="inset-shorthands"><span class="secno">3.2. </span><span class="content"> Box Insets Shorthands: the <a class="property css" data-link-type="property" href="#propdef-inset-block" id="ref-for-propdef-inset-block①">inset-block</a>, <a class="property css" data-link-type="property" href="#propdef-inset-inline" id="ref-for-propdef-inset-inline①">inset-inline</a>, and <a class="property css" data-link-type="property" href="#propdef-inset" id="ref-for-propdef-inset②">inset</a> properties</span><a class="self-link" href="#inset-shorthands"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<table class="def propdef" data-link-for-hint="inset-block">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset-block">inset-block</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset-inline">inset-inline</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top④">&lt;'top'></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num-range" id="ref-for-mult-num-range">{1,2}</a> 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>auto 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td>positioned elements 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>see individual properties 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>see individual properties 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value type 
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-inset-block" id="ref-for-propdef-inset-block②">inset-block</a> and <a class="property css" data-link-type="property" href="#propdef-inset-inline" id="ref-for-propdef-inset-inline②">inset-inline</a> properties are <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property①">shorthand properties</a> for setting <a class="property css" data-link-type="property" href="#propdef-inset-block-start" id="ref-for-propdef-inset-block-start②">inset-block-start</a> + <a class="property css" data-link-type="property" href="#propdef-inset-block-end" id="ref-for-propdef-inset-block-end②">inset-block-end</a> or <a class="property css" data-link-type="property" href="#propdef-inset-inline-start" id="ref-for-propdef-inset-inline-start②">inset-inline-start</a> + <a class="property css" data-link-type="property" href="#propdef-inset-inline-end" id="ref-for-propdef-inset-inline-end②">inset-inline-end</a>,
	respectively,
	in a single declaration.
	The first component value sets the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start②">start</a> side,
	the second sets the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end②">end</a>;
	if omitted, the second value defaults to the first.</p>
   <table class="def propdef" data-link-for-hint="inset">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset">inset</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top⑤">&lt;'top'></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num-range" id="ref-for-mult-num-range①">{1,4}</a> 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>auto 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td>positioned elements 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>see individual properties 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>see individual properties 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value type 
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-inset" id="ref-for-propdef-inset③">inset</a> property is a <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property②">shorthand property</a> that sets all of the <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties⑨">inset properties</a> in a single declaration,
	assigning values to the longhands representing each side
	exactly as the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin" id="ref-for-propdef-margin">margin</a> property does for its longhands.</p>
   <div class="note" role="note">
    <p>By default, the <a class="property css" data-link-type="property" href="#propdef-inset" id="ref-for-propdef-inset④">inset</a> property values
		are assigned to the corresponding <em><a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#physical" id="ref-for-physical②">physical</a></em> <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#longhand" id="ref-for-longhand">longhand properties</a>—​<a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top⑥">top</a>, <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right③">right</a>, <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom③">bottom</a>, and <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left③">left</a>—​which for historical reasons do not have an <span class="css">inset-</span> prefix.
		This matches the behavior of other "4 values assigned to sides" properties,
		such as <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin" id="ref-for-propdef-margin①">margin</a>.</p>
    <p>Allowing properties such as this to resolve to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#flow-relative" id="ref-for-flow-relative②">flow-relative</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#longhand" id="ref-for-longhand①">longhands</a> is under discussion in <a data-link-type="biblio" href="#biblio-css-logical-1" title="CSS Logical Properties and Values Level 1">[CSS-LOGICAL-1]</a>.</p>
    <p>Yes, we understand it’s a little confusing
		that <a class="property css" data-link-type="property" href="#propdef-inset" id="ref-for-propdef-inset⑤">inset</a> doesn’t expand to any <span class="css">inset-*</span> properties.</p>
   </div>

</details>
<h3 class="heading settled" data-level="3.3" id="relpos-insets"><span class="secno">3.3. </span><span class="content"> Relative Positioning</span><span id="relpos"></span><a class="self-link" href="#relpos-insets"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>For a <a data-link-type="dfn" href="#relative-position" id="ref-for-relative-position④">relatively positioned</a> box,
	the <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①⓪">inset properties</a> move the box inward
	from the respective edge,
	without changing its size. <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left④">left</a> moves the box to the right, <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right④">right</a> moves it to the left, etc.
	Since boxes are not split or stretched as a result of <span id="ref-for-relative-position⑤">relative positioning</span> opposing <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value">used values</a> in a given axis must be negations of each other:</p>
   <ul>
    <li> If opposing <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①①">inset properties</a> in an axis both compute to <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②">auto</a> (their <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#initial-value" id="ref-for-initial-value">initial values</a>),
			their <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value①">used values</a> are zero
			(i.e., the boxes stay in their original position in that axis). 
    <li> If only one is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto③">auto</a>,
			its <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value②">used value</a> becomes the negation of the other,
			and the box is shifted by the specified amount. 
    <li> If neither is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④">auto</a>,
			the position is over-constrained;
			(with respect to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode②">writing mode</a> of its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①⑧">containing block</a>)
			the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value">computed</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end③">end</a> side value is ignored,
			and its <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value③">used value</a> becomes the negation of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start③">start</a> side. 
   </ul>
   <div class="example" id="example-bf44fe11">
    <a class="self-link" href="#example-bf44fe11"></a> 
    <p>The following three rules are equivalent,
		and shift the box <span class="css">1em</span> to the left:</p>
<pre class="highlight">div.a8 <c- p>{</c-> <c- k>position</c-><c- p>:</c-> relative<c- p>;</c-> <c- k>direction</c-><c- p>:</c-> ltr<c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>-1</c-><c- k>em</c-><c- p>;</c-> <c- k>right</c-><c- p>:</c-> auto <c- p>}</c->
div.a8 <c- p>{</c-> <c- k>position</c-><c- p>:</c-> relative<c- p>;</c-> <c- k>direction</c-><c- p>:</c-> ltr<c- p>;</c-> <c- k>left</c-><c- p>:</c-> auto<c- p>;</c-> <c- k>right</c-><c- p>:</c-> <c- m>1</c-><c- k>em</c-> <c- p>}</c->
div.a8 <c- p>{</c-> <c- k>position</c-><c- p>:</c-> relative<c- p>;</c-> <c- k>direction</c-><c- p>:</c-> ltr<c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>-1</c-><c- k>em</c-><c- p>;</c-> <c- k>right</c-><c- p>:</c-> <c- m>5</c-><c- k>em</c-> <c- p>}</c->
</pre>
   </div>
   <p>If specified on
	a <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-4/#valdef-display-table-row-group" id="ref-for-valdef-display-table-row-group">table-row-group</a>, <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-4/#valdef-display-table-header-group" id="ref-for-valdef-display-table-header-group">table-header-group</a>, <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-4/#valdef-display-table-footer-group" id="ref-for-valdef-display-table-footer-group">table-footer-group</a>, or <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-4/#valdef-display-table-row" id="ref-for-valdef-display-table-row">table-row</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#box" id="ref-for-box②">box</a> the shift affects all the contents of the box,
	including all <a class="css" data-link-type="value" href="https://www.w3.org/TR/css-display-4/#valdef-display-table-cell" id="ref-for-valdef-display-table-cell">table cells</a> that originate in the affected row,
	but not those that don’t.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Since <a class="property css" data-link-type="property" href="#propdef-position" id="ref-for-propdef-position⑦">position</a> does not apply to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-4/#valdef-display-table-column-group" id="ref-for-valdef-display-table-column-group">table-column-group</a> or <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-4/#valdef-display-table-column" id="ref-for-valdef-display-table-column">table-column</a> boxes,
	they are not affected by <a data-link-type="dfn" href="#relative-position" id="ref-for-relative-position⑥">relative positioning</a>.</p>

</details>
<h3 class="heading settled" data-level="3.4" id="stickypos-insets"><span class="secno">3.4. </span><span class="content"> Sticky positioning</span><span id="sticky-pos"></span><a class="self-link" href="#stickypos-insets"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p><a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position⑤">Sticky positioning</a> is similar to <a data-link-type="dfn" href="#relative-position" id="ref-for-relative-position⑦">relative positioning</a> except the offsets are automatically calculated
	in reference to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#nearest-scrollport" id="ref-for-nearest-scrollport">nearest scrollport</a>.</p>
   <p>For a <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position⑥">sticky positioned</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#box" id="ref-for-box③">box</a>,
	the <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①②">inset properties</a> represent insets from the respective edges of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#nearest-scrollport" id="ref-for-nearest-scrollport①">nearest scrollport</a>,
	defining the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="sticky-view-rectangle">sticky view rectangle</dfn> used to constrain the box’s position.
	(For this purpose an <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑤">auto</a> value represents a zero inset.)
	If this results in a <a data-link-type="dfn" href="#sticky-view-rectangle" id="ref-for-sticky-view-rectangle">sticky view rectangle</a> size in any axis
	less than the size of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-box" id="ref-for-border-box">border box</a> of the <span id="ref-for-sticky-position⑦">sticky</span> box in that axis,
	then the effective <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end④">end</a>-edge inset in the affected axis is reduced
	(possibly becoming negative)
	to bring the <span id="ref-for-sticky-view-rectangle①">sticky view rectangle</span>’s size up to
	the size of the <span id="ref-for-border-box①">border box</span> in that axis
	(where <span id="ref-for-end⑤">end</span> is interpreted relative to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode③">writing mode</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block①⑨">containing block</a>).</p>
   <div class="example" id="example-1c9f6a33">
    <a class="self-link" href="#example-1c9f6a33"></a> For example,
		if the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#nearest-scrollport" id="ref-for-nearest-scrollport②">nearest scrollport</a> is <span class="css">300px</span> tall,
		the <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position⑧">sticky</a> box’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-box" id="ref-for-border-box②">border box</a> is <span class="css">200px</span> tall,
		and it has <a class="css" data-link-type="propdesc" href="#propdef-top" id="ref-for-propdef-top⑦">top: 20px</a>,
		then the top-edge inset of the <span id="ref-for-nearest-scrollport③">nearest scrollport</span> is <span class="css">20px</span>,
		and the bottom-edge inset is <span class="css">0px</span>,
		yielding a <a data-link-type="dfn" href="#sticky-view-rectangle" id="ref-for-sticky-view-rectangle②">sticky view rectangle</a> that is <span class="css">280px</span> tall. 
    <p>But if the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#nearest-scrollport" id="ref-for-nearest-scrollport④">nearest scrollport</a> were only <span class="css">100px</span> tall,
		then the effective bottom-edge inset becomes <span class="css">-120px</span>,
		resulting in a <a data-link-type="dfn" href="#sticky-view-rectangle" id="ref-for-sticky-view-rectangle③">sticky view rectangle</a> that’s <span class="css">200px</span> tall,
		enough to fully contain the <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-box" id="ref-for-margin-box">margin box</a> of the <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position⑨">sticky</a> box.</p>
   </div>
   <p>For each side of the box,
	if the corresponding <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①③">inset property</a> is not <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑥">auto</a>,
	and the corresponding <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge" id="ref-for-border-edge">border edge</a> of the box would be outside
	the corresponding edge of the <a data-link-type="dfn" href="#sticky-view-rectangle" id="ref-for-sticky-view-rectangle④">sticky view rectangle</a>,
	then the box must be visually shifted
	(<a href="#relpos-insets">as for relative positioning</a>)
	to be inward of that <span id="ref-for-sticky-view-rectangle⑤">sticky view rectangle</span> edge,
	insofar as it can while its <a data-link-type="dfn" href="#position-box" id="ref-for-position-box">position box</a> remains contained within its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block②⓪">containing block</a>.
	The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="position-box">position box</dfn> is its <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-box" id="ref-for-margin-box①">margin box</a>,
	except that for any side for which the distance between its <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-edge" id="ref-for-margin-edge">margin edge</a> and the corresponding edge of its <span id="ref-for-containing-block②①">containing block</span> is less than its corresponding <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin" id="ref-for-margin">margin</a>,
	that distance is used in place of that <span id="ref-for-margin①">margin</span>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> A sticky positioned element with
	a non-<a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑦">auto</a> <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top⑧">top</a> value and an <span class="css" id="ref-for-valdef-top-auto⑧">auto</span> <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom④">bottom</a> value
	will only ever be pushed down by sticky positioning;
	it will never be offset upwards.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Multiple <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position①⓪">sticky positioned</a> boxes in the same container
	are offset independently,
	and therefore might overlap.</p>
   <h4 class="heading settled" data-level="3.4.1" id="stickypos-scroll"><span class="secno">3.4.1. </span><span class="content"> Scroll Position of Sticky-Positioned Boxes</span><a class="self-link" href="#stickypos-scroll"></a></h4>
   <p>For the purposes of any operation targeting the scroll position
	of a sticky positioned element (or one of its descendants),
	the sticky positioned element must be considered to be
	at its offsetted position.</p>
   <div class="example" id="example-d3878f82"><a class="self-link" href="#example-d3878f82"></a> For example, if a user clicks a link targeting a <a data-link-type="dfn" href="#sticky-position" id="ref-for-sticky-position①①">sticky-positioned</a> element,
		if the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#nearest-scrollport" id="ref-for-nearest-scrollport⑤">nearest scrollport</a> is currently scrolled
		such that the <span id="ref-for-sticky-position①②">sticky positioned</span> element is offset from its initial position,
		the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①">scroll container</a> will be scrolled back
		only the minimum necessary to bring it into its desired position in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport③">scrollport</a> (rather than scrolling all the way back
		to target its original, non-offsetted position). </div>

</details>
<h3 class="heading settled" data-level="3.5" id="abspos-insets"><span class="secno">3.5. </span><span class="content"> Absolute (and Fixed) Positioning</span><span id="abs-pos"></span><span id="fixed-pos"></span><a class="self-link" href="#abspos-insets"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>For an <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position⑧">absolutely positioned</a> box,
	the <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①④">inset properties</a> effectively reduce the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block②②">containing block</a> into which it is sized and positioned
	by the specified amounts.
	The resulting rectangle is called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="inset-modified-containing-block">inset-modified containing block</dfn>.
	(For disambiguation, the actual <span id="ref-for-containing-block②③">containing block</span> of an <span id="ref-for-absolute-position⑨">absolutely positioned box</span> can also be called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="absolute-position-containing-block">absolute-position containing block</dfn>.)</p>
   <h4 class="heading settled" data-level="3.5.1" id="resolving-insets"><span class="secno">3.5.1. </span><span class="content"> Resolvings Insets for the “Inset-Modified Containing Block”</span><a class="self-link" href="#resolving-insets"></a></h4>
   <p>If only one <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①⑤">inset property</a> in a given axis is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑨">auto</a>,
	it is set to zero.
	If both <span id="ref-for-inset-properties①⑥">inset properties</span> in a given axis are <span class="css" id="ref-for-valdef-top-auto①⓪">auto</span>, then,
	depending on the box’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties">self-alignment property</a> in the relevant axis:</p>
   <dl class="switch">
    <dt>for <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-self-position-self-start" id="ref-for-valdef-self-position-self-start">self-start</a> alignment or its equivalent 
    <dd> Set its start-edge <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①⑦">inset property</a> to the <a data-link-type="dfn" href="#static-position" id="ref-for-static-position">static position</a>,
			and its end-edge <span id="ref-for-inset-properties①⑧">inset property</span> to zero. 
    <dt>for <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-self-position-self-end" id="ref-for-valdef-self-position-self-end">self-end</a> alignment or its equivalent 
    <dd> Set its end-edge <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties①⑨">inset property</a> to the <a data-link-type="dfn" href="#static-position" id="ref-for-static-position①">static position</a>,
			and its start-edge <span id="ref-for-inset-properties②⓪">inset property</span> to zero. 
    <dt>for <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-self-position-center" id="ref-for-valdef-self-position-center">center</a> alignment 
    <dd> Let <var>start distance</var> be the distance from
			the center of its <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle">static-position rectangle</a> to the start edge of its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block②④">containing block</a>,
			and <var>end distance</var> be the distance from
			the center of its <span id="ref-for-static-position-rectangle①">static-position rectangle</span> to the end edge of its <span id="ref-for-containing-block②⑤">containing block</span>.
			If <var>start distance</var> is less than or equal to <var>end distance</var>,
			then set the start-edge <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties②①">inset property</a> to zero,
			and set the end-edge <span id="ref-for-inset-properties②②">inset property</span> to
			(<var>containing block size</var> - 2 × |<var>start distance</var>|);
			otherwise,
			set the end-edge <span id="ref-for-inset-properties②③">inset property</span> to zero
			and the start-edge <span id="ref-for-inset-properties②④">inset property</span> to
			(<var>containing block size</var> - 2 × |<var>end distance</var>|). 
   </dl>
   <p>For the rules above,
	ignore <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#overflow-alignment" id="ref-for-overflow-alignment">overflow alignment</a>,
	and treat <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-align-self-normal" id="ref-for-valdef-align-self-normal">normal</a> as <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-self-position-start" id="ref-for-valdef-self-position-start">start</a> and any <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#baseline-alignment" id="ref-for-baseline-alignment">baseline</a> or <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-align-self-stretch" id="ref-for-valdef-align-self-stretch">stretch</a> alignment value
	as its fallback alignment.</p>
   <p>If these adjustments result in
	an effective <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block②⑥">containing block</a> size in any axis less than zero,
	then the <a data-link-type="dfn" href="#weaker-inset" id="ref-for-weaker-inset">weaker inset</a> in the affected axis
	is reduced (possibly becoming negative)
	to bring that size up to zero.
	In the case that only one inset is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①①">auto</a>,
	that is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="weaker-inset">weaker inset</dfn> (whose opposite inset is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="stronger-inset">stronger inset</dfn>);
	otherwise the <span id="ref-for-weaker-inset①">weaker inset</span> is the inset of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end⑥">end</a> edge
	(where <span id="ref-for-end⑦">end</span> is interpreted relative to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode④">writing mode</a> of the <span id="ref-for-containing-block②⑦">containing block</span>).</p>
   <p class="note" role="note"><span class="marker">Note:</span> Sizing and positioning of the <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position①⓪">absolutely positioned box</a> into this <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block">inset-modified containing block</a> is as described in <a href="#abspos-layout">§ 4 Absolute Positioning Layout Model</a>.</p>
   <p>If its <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties①">self-alignment property</a> in an axis is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-align-self-normal" id="ref-for-valdef-align-self-normal①">normal</a>,
	then the <a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#resolved-value" id="ref-for-resolved-value">resolved value</a> of its <a data-link-type="dfn" href="#weaker-inset" id="ref-for-weaker-inset②">weaker inset</a> in that axis
	is the value necessary to match that edge of its <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block①">inset-modified containing block</a> to the corresponding edge of its <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-box" id="ref-for-margin-box②">margin box</a> after <a href="#abspos-layout">layout</a>.
	(Otherwise the <span id="ref-for-resolved-value①">resolved value</span> is the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value④">used value</a> described above.)</p>
   <h4 class="heading settled" data-level="3.5.2" id="staticpos-rect"><span class="secno">3.5.2. </span><span class="content"> Calculating the Static Position and the “Static-Position Rectangle”</span><a class="self-link" href="#staticpos-rect"></a></h4>
   <p>When both <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties②⑤">inset properties</a> in a given axis are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①②">auto</a>,
	they are resolved into a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="static-position">static position</dfn> by aligning the box into its <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="static-position-rectangle">static-position rectangle</dfn>,
	an <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#alignment-container" id="ref-for-alignment-container">alignment container</a> derived
	from the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#formatting-context" id="ref-for-formatting-context③">formatting context</a> the box would have participated in
	if it were <a class="css" data-link-type="propdesc" href="#propdef-position" id="ref-for-propdef-position⑧">position: static</a> (independent of its actual containing block).
	The <a data-link-type="dfn" href="#static-position" id="ref-for-static-position②">static position</a> represents
	an approximation of the position the box would have had
	if it were <span class="css" id="ref-for-propdef-position⑨">position: static</span>.</p>
   <dl>
    <dt>Block Layout 
    <dd>
      The <a data-link-type="dfn" href="#static-position" id="ref-for-static-position③">static positions</a> of a <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#block-level-box" id="ref-for-block-level-box">block-level box</a> are defined in <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a> Chapter 10.
			The <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle②">static-position rectangle</a> is a zero-thickness rectangle spanning between
			the inline-axis sides of the box’s <a data-link-type="dfn" href="#static-position-containing-block" id="ref-for-static-position-containing-block">static-position containing block</a> and positioned at its <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-start" id="ref-for-block-start">block-start</a> <span id="ref-for-static-position④">static position</span> (see <a href="https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-height">CSS2§10.6.4</a>). 
     <p class="note" role="note"><span class="marker">Note:</span> In block layout the <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle③">static-position rectangle</a> corresponds to the position of the “hypothetical box”
			described in <a href="https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width">CSS2.1§10.3.7</a>.
			Since it has no alignment properties,
			CSS2.1 always uses a <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-start" id="ref-for-block-start①">block-start</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-start" id="ref-for-inline-start">inline-start</a> alignment
			of the absolutely-positioned box within the <span id="ref-for-static-position-rectangle④">static-position rectangle</span>.</p>
    <dt>Inline Layout 
    <dd> The <a data-link-type="dfn" href="#static-position" id="ref-for-static-position⑤">static positions</a> of an <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#inline-level-box" id="ref-for-inline-level-box">inline-level box</a> are defined in <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a> Chapter 10.
			The <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle⑤">static-position rectangle</a> is a zero-thickness rectangle spanning between
			the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#line-over" id="ref-for-line-over">line-over</a>/<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#line-under" id="ref-for-line-under">line-under</a> sides of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-inline-3/#line-box" id="ref-for-line-box">line box</a> that would have contained its “hypothetical box”
			(see <a href="https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width">CSS2§10.3.7</a>);
			and positioned at its <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-start" id="ref-for-inline-start①">inline-start</a> <span id="ref-for-static-position⑥">static position</span>. 
    <dt>Flex Layout 
    <dd> The <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle⑥">static-position rectangle</a> of the child of a <a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#flex-container" id="ref-for-flex-container">flex container</a> corresponds to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#content-edge" id="ref-for-content-edge②">content edges</a> of the <span id="ref-for-flex-container①">flex container</span> in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#cross-axis" id="ref-for-cross-axis">cross axis</a>,
			and to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#outer-edge" id="ref-for-outer-edge">outer edges</a> of its hypothetical position in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-flexbox-1/#main-axis" id="ref-for-main-axis">main axis</a>.
			See <a href="https://www.w3.org/TR/css-flexbox-1/#abspos-items">static position of a flex container child</a> in <a data-link-type="biblio" href="#biblio-css-flexbox-1" title="CSS Flexible Box Layout Module Level 1">[CSS-FLEXBOX-1]</a>. 
    <dt>Grid Layout 
    <dd> By default, the <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle⑦">static-position rectangle</a> of the child of a <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-container" id="ref-for-grid-container①">grid container</a> corresponds to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#content-edge" id="ref-for-content-edge③">content edges</a> of the <span id="ref-for-grid-container②">grid container</span>.
			However, if that <span id="ref-for-grid-container③">grid container</span> also establishes
			the box’s actual <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block②⑧">containing block</a>,
			then the <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-area" id="ref-for-grid-area①">grid area</a> specified by the <a data-link-type="dfn" href="https://www.w3.org/TR/css-grid-2/#grid-placement-property" id="ref-for-grid-placement-property①">grid-placement properties</a> establishes its <span id="ref-for-static-position-rectangle⑧">static-position rectangle</span> instead.
			See the <a href="https://www.w3.org/TR/css-grid-1/#static-position">static position of a grid container child</a> in <a data-link-type="biblio" href="#biblio-css-grid-1" title="CSS Grid Layout Module Level 1">[CSS-GRID-1]</a>. 
   </dl>
   <p>Finding the <a data-link-type="dfn" href="#static-position" id="ref-for-static-position⑦">static position</a> and the <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle⑨">static-position rectangle</a> assumes that both <a class="property css" data-link-type="property">float</a> and <span class="property">clear</span> (as well as <a class="property css" data-link-type="property" href="#propdef-position" id="ref-for-propdef-position①⓪">position</a>)
	have their <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#initial-value" id="ref-for-initial-value①">initial values</a>,
	and can consequently require assuming a different hypothetical value
	for <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-display-4/#propdef-display" id="ref-for-propdef-display">display</a> as well.
	(The <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block②⑨">containing block</a> the element would have had under these conditions
	is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="static-position-containing-block">static-position containing block</dfn>.)
	To the extent the <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#box-alignment-properties" id="ref-for-box-alignment-properties">box alignment properties</a> have an effect,
	they use the <a data-link-type="dfn" href="#static-position-containing-block" id="ref-for-static-position-containing-block①">static-position containing block</a> as the effective <span id="ref-for-containing-block③⓪">containing block</span>,
	including using its <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode⑤">writing mode</a> for resolving alignment axes and directions.
	Additionally, the <span id="ref-for-containing-block③①">containing block</span> of <a data-link-type="dfn" href="#fixed-position" id="ref-for-fixed-position⑦">fixed positioned</a> elements
	is assumed to be the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#initial-containing-block" id="ref-for-initial-containing-block①">initial containing block</a> instead of the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x1" id="ref-for-x1⑤">viewport</a>,
	and all <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②">scroll containers</a> should be assumed
	to be scrolled to their <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#initial-scroll-position" id="ref-for-initial-scroll-position">initial scroll position</a>.
	Lastly, all <span class="css">auto</span> margins on the box itself
	are treated as zero.</p>
   <p>Boxes in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-position-4/#document-top-layer" id="ref-for-document-top-layer">top layer</a> always use the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#initial-containing-block" id="ref-for-initial-containing-block②">initial containing block</a> as their <a data-link-type="dfn" href="#static-position-rectangle" id="ref-for-static-position-rectangle①⓪">static-position rectangle</a>.</p>
   <h4 class="heading settled" data-level="3.5.3" id="abspos-breaking"><span class="secno">3.5.3. </span><span class="content"> Fragmenting Absolutely-positioned Elements</span><span id="breaking"></span><a class="self-link" href="#abspos-breaking"></a></h4>
   <p>In a <a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#fragmented-flow" id="ref-for-fragmented-flow">fragmented flow</a>, an <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position①①">absolutely positioned box</a> is positioned relative to its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③②">containing block</a> ignoring any <a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#fragmentation-break" id="ref-for-fragmentation-break">fragmentation breaks</a> (as if the flow were continuous).
	The box may subsequently be broken over several <a data-link-type="dfn" href="https://www.w3.org/TR/css-break-4/#fragmentation-container" id="ref-for-fragmentation-container">fragmentation containers</a>.</p>
   <p>For absolutely positioned content in <a data-link-type="dfn" href="https://www.w3.org/TR/mediaqueries-5/#paged-media" id="ref-for-paged-media②">paged media</a> that resolves to a position on a page
	other than the page being laid out (the current page),
	or resolves to a position on the current page
	that has already been rendered for printing,
	printers may place the content:</p>
   <ul>
    <li>on the current page, 
    <li>on a subsequent page, or 
    <li>may omit it altogether. 
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> A <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#block-level" id="ref-for-block-level">block-level</a> element that is split over several pages
	can have a different width on each page,
	and there may be device-specific limits.</p>
   <p>User agents must not paginate the content of <a data-link-type="dfn" href="#fixed-position" id="ref-for-fixed-position⑧">fixed-positioned boxes</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> User agents might print invisible content in other ways.
	See <a href="https://www.w3.org/TR/css-page-3/#content-outside-box"><cite>CSS Paged Media 3</cite> § 3.2 Content outside the page box</a>.</p>

</details>
<h2 class="heading settled" data-level="4" id="abspos-layout"><span class="secno">4. </span><span class="content"> Absolute Positioning Layout Model</span><a class="self-link" href="#abspos-layout"></a></h2>
<details class="valor-spec" data-level="2">
  <summary>Show spec text</summary>

<p><a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position①②">Absolute positioning</a> not only takes a box <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#out-of-flow" id="ref-for-out-of-flow②">out of flow</a>,
	but also lays it out in its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③③">containing block</a> (after the final size of the <span id="ref-for-containing-block③④">containing block</span> has been determined)
	according to the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="absolute positioning layout | absolute positioning layout model" id="absolute-positioning-layout">absolute positioning layout model</dfn>:</p>
   <ol>
    <li>
      First, its <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block②">inset-modified containing block</a> is calculated,
			defining its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#available" id="ref-for-available">available space</a>.
			(See <a href="#abspos-insets">§ 3.5 Absolute (and Fixed) Positioning</a>.) 
     <p>Because an <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position①③">absolutely positioned box</a> does not affect the size of its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③⑤">containing block</a>,
			its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#available" id="ref-for-available①">available space</a> is always <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#definite" id="ref-for-definite">definite</a>.</p>
    <li> Next, its width and height are resolved against this <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#definite" id="ref-for-definite①">definite</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#available" id="ref-for-available②">available space</a>,
			as its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#preferred-size" id="ref-for-preferred-size">preferred size</a> capped by its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#max-width" id="ref-for-max-width">maximum size</a> (if any), floored by its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#min-width" id="ref-for-min-width">minimum size</a>.
			See <a href="#abspos-auto-size">§ 4.1 Automatic Sizes of Absolutely-Positioned Boxes</a>.
			Percentages, however,
			are resolved against the original <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③⑥">containing block</a> size. 
    <li> Then, the value of any <span class="css">auto</span> margins are calculated,
			see <a href="#abspos-margins">§ 4.2 Auto Margins of Absolutely-Positioned Boxes</a>. 
    <li> Lastly, its <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-box" id="ref-for-margin-box③">margin box</a> is aligned within the <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block③">inset-modified containing block</a>,
			see <a href="#abspos-alignment">§ 5 Self-Alignment of Absolutely Positioned Boxes</a>. 
   </ol>

</details>
<h3 class="heading settled" data-level="4.1" id="abspos-auto-size"><span class="secno">4.1. </span><span class="content"> Automatic Sizes of Absolutely-Positioned Boxes</span><a class="self-link" href="#abspos-auto-size"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>The <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#automatic-size" id="ref-for-automatic-size">automatic size</a> of an <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position①④">absolutely positioned box</a> is resolved against its <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block④">inset-modified containing block</a> as follows:</p>
   <dl class="switch">
    <dt data-md>If its <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties②">self-alignment property</a> in the relevant axis is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-align-self-stretch" id="ref-for-valdef-align-self-stretch①">stretch</a> and neither of its <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties②⑥">inset properties</a> nor <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin" id="ref-for-margin②">margins</a> in that axis are <span class="css">auto</span>
    <dt data-md>Or if it is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-align-self-normal" id="ref-for-valdef-align-self-normal②">normal</a> and the box is <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#non-replaced" id="ref-for-non-replaced">non-replaced</a>,
not a <a data-link-type="dfn" href="https://www.w3.org/TR/css-tables-3/#table-wrapper-box" id="ref-for-table-wrapper-box">table wrapper box</a>,
and has no <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①③">auto</a> <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties②⑦">inset</a> in the relevant axis
    <dd data-md>
     <p>Its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#automatic-size" id="ref-for-automatic-size①">automatic size</a> is its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#stretch-fit-size" id="ref-for-stretch-fit-size">stretch-fit size</a>.</p>
    <dt data-md>Otherwise
    <dd data-md>
     <p>Its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#automatic-size" id="ref-for-automatic-size②">automatic size</a> is its <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#fit-content-size" id="ref-for-fit-content-size">fit-content size</a>.</p>
   </dl>
   <p>However, if the box has an aspect-ratio,
	then an <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#automatic-size" id="ref-for-automatic-size③">automatic size</a> in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-4/#ratio-dependent-axis" id="ref-for-ratio-dependent-axis">ratio-dependent axis</a> is instead resolved as a <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#max-content" id="ref-for-max-content">max-content size</a>.
	When both axes have an <span id="ref-for-automatic-size④">automatic size</span>,
	if only one axis has an <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①④">auto</a> <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties②⑧">inset</a> then that axis is the <span id="ref-for-ratio-dependent-axis①">ratio-dependent axis</span>,
	else the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis">block axis</a> is the <span id="ref-for-ratio-dependent-axis②">ratio-dependent axis</span>.
	An <span id="ref-for-automatic-size⑤">automatic size</span> in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-4/#ratio-determining-axis" id="ref-for-ratio-determining-axis">ratio-determining axis</a> is determined as above.</p>
   <p>For the purpose of computing these sizes,
	any <span class="css">auto</span> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin" id="ref-for-margin③">margins</a> are treated as zero.</p>
   <p>The <a data-link-type="dfn" href="https://www.w3.org/TR/css-sizing-3/#automatic-minimum-size" id="ref-for-automatic-minimum-size">automatic minimum size</a> of an absolutely-positioned box is always zero.</p>
   <p class="note" role="note"><span class="marker">Note:</span> To the extent that form controls can be resized
	(and are not directly representing <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#replaced-element" id="ref-for-replaced-element">replaced elements</a> such as images),
	they are expected to be treated as <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#non-replaced" id="ref-for-non-replaced①">non-replaced</a> here.
	In HTML, all form controls
	other than <code>&lt;input type=image></code> are treated as <span id="ref-for-non-replaced②">non-replaced</span>.</p>

</details>
<h3 class="heading settled" data-level="4.2" id="abspos-margins"><span class="secno">4.2. </span><span class="content"> Auto Margins of Absolutely-Positioned Boxes</span><a class="self-link" href="#abspos-margins"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>If either <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties②⑨">inset property</a> in the relevant axis is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①⑤">auto</a>,
	then any <span class="css">auto</span> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin" id="ref-for-margin④">margins</a> resolve to zero.</p>
   <p>Otherwise, the <var>remaining space</var> is calculated
	as the size of its <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block⑤">inset-modified containing block</a> in the relevant axis
	minus the box’s used size in the relevant axis,
	and this <var>remaining space</var> is divided among
	any <span class="css">auto</span> margins in the relevant axis.
	However,
	(all with respect to the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode⑥">writing mode</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③⑦">containing block</a>),
	if in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis">inline axis</a> the <var>remaining space</var> is negative
	and both margins are <span class="css">auto</span>,
	the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-start" id="ref-for-inline-start②">start</a> margin resolves to zero
	and the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-end" id="ref-for-inline-end">end</a> margin receives the <var>remaining space</var>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Unlike typical <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#in-flow" id="ref-for-in-flow①">in-flow</a> layout,
	the space distributed to <span class="css">auto</span> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin" id="ref-for-margin⑤">margins</a> can be negative in <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position①⑤">absolute positioning</a>.</p>
   <p class="issue" id="issue-f171bef8"><a class="self-link" href="#issue-f171bef8"></a> What should happen in “negatively-sized” containing blocks?
	CSS2.1 and this draft currently conflict. <a href="https://github.com/w3c/csswg-drafts/issues/11478">[Issue #11478]</a></p>

</details>
<h2 class="heading settled" data-level="5" id="abspos-alignment"><span class="secno">5. </span><span class="content"> Self-Alignment of Absolutely Positioned Boxes</span><a class="self-link" href="#abspos-alignment"></a></h2>
<details class="valor-spec" data-level="2">
  <summary>Show spec text</summary>

<p>If the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value①">computed value</a> of either <a data-link-type="dfn" href="#inset-properties" id="ref-for-inset-properties③⓪">inset property</a> in an axis is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①⑥">auto</a>,
	then its <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-box" id="ref-for-margin-box④">margin box</a> is aligned to the edge of the <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block⑥">inset-modified containing block</a> corresponding to its <a data-link-type="dfn" href="#stronger-inset" id="ref-for-stronger-inset">stronger inset</a> (even if this would overflow its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③⑧">containing block</a>).</p>
   <p>Otherwise, if either <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin" id="ref-for-margin⑥">margin</a> is <span class="css">auto</span>,
	its position is resolved according to <a href="#abspos-margins">§ 4.2 Auto Margins of Absolutely-Positioned Boxes</a>.</p>
   <p>Otherwise, the box is aligned as specified by
	its <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties③">self-alignment property</a> in the relevant axis
	(as defined by the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode⑦">writing mode</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block③⑨">containing block</a>),
	using its <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#margin-box" id="ref-for-margin-box⑤">margin box</a> as the <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#alignment-subject" id="ref-for-alignment-subject">alignment subject</a> and the <a data-link-type="dfn" href="#inset-modified-containing-block" id="ref-for-inset-modified-containing-block⑦">inset-modified containing block</a> as the <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#alignment-container" id="ref-for-alignment-container①">alignment container</a>.
	However, if an explicit <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#overflow-alignment" id="ref-for-overflow-alignment①">overflow alignment</a> is not specified
	and its <span id="ref-for-margin-box⑥">margin box</span> overflows the <span id="ref-for-inset-modified-containing-block⑧">inset-modified containing block</span>,
	its alignment is adjusted to minimize overflow
	as specified in <a href="https://drafts.csswg.org/css-align-3/#auto-safety-position"><cite>CSS Box Alignment 3</cite> § 4.4.1.2 Self-Alignment for Absolutely Positioned Boxes</a>.</p>

</details>
<h2 class="heading settled" data-level="6" id="abspos-old"><span class="secno">6. </span><span class="content"> Old Absolute Positioning Layout Model</span><a class="self-link" href="#abspos-old"></a></h2>
<details class="valor-spec" data-level="2">
  <summary>Show spec text</summary>

<p class="issue" id="issue-3a21c2a0"><a class="self-link" href="#issue-3a21c2a0"></a> This section is being replaced with the new <a href="#abspos-layout">§ 4 Absolute Positioning Layout Model</a> section.
	It is preserved here for comparison:
	both models should yield the same result
	in <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#horizontal-writing-mode" id="ref-for-horizontal-writing-mode">horizontal writing modes</a> when the box’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#self-align" id="ref-for-self-align">self-alignment</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-align-3/#valdef-align-self-normal" id="ref-for-valdef-align-self-normal③">normal</a>.</p>

</details>
<h3 class="heading settled" data-level="6.1" id="abs-non-replaced-width"><span class="secno">6.1. </span><span class="content"> The Width of Absolutely-Positioned, Non-Replaced Elements</span><a class="self-link" href="#abs-non-replaced-width"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>The constraint that determines the used values for these elements is:</p>
   <p><code> <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left⑤">left</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left">margin-left</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-left-width" id="ref-for-propdef-border-left-width">border-left-width</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-padding-left" id="ref-for-propdef-padding-left">padding-left</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width">width</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-padding-right" id="ref-for-propdef-padding-right">padding-right</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-right-width" id="ref-for-propdef-border-right-width">border-right-width</a> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right">margin-right</a> + <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right⑤">right</a> = width of containing block </code></p>
   <p>If all three of <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left⑥">left</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width①">width</a>, and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right⑥">right</a> are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①⑦">auto</a>:
	First set any <span class="css">auto</span> values for <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left①">margin-left</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right①">margin-right</a> to <span class="css">0</span>.
	Then, if the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction">direction</a> property of
	the element establishing the static-position <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④⓪">containing block</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr" id="ref-for-valdef-direction-ltr">ltr</a> set <span class="property" id="ref-for-propdef-left⑦">left</span> to the static position
	and apply rule number <em>three</em> below;
	otherwise, set <span class="property" id="ref-for-propdef-right⑦">right</span> to the static-position
	and apply rule number <em>one</em> below.</p>
   <p>If none of the three is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①⑧">auto</a>:
	If both <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left②">margin-left</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right②">margin-right</a> are <span class="css">auto</span>,
	solve the equation under the extra constraint that
	the two margins get equal values,
	unless this would make them negative,
	in which case when direction of the containing block is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr" id="ref-for-valdef-direction-ltr①">ltr</a> (<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl" id="ref-for-valdef-direction-rtl">rtl</a>),
	set <span class="property" id="ref-for-propdef-margin-left③">margin-left</span> (<span class="property" id="ref-for-propdef-margin-right③">margin-right</span>) to <span class="css">0</span> and solve for <span class="property" id="ref-for-propdef-margin-right④">margin-right</span> (<span class="property" id="ref-for-propdef-margin-left④">margin-left</span>).
	If one of <span class="property" id="ref-for-propdef-margin-left⑤">margin-left</span> or <span class="property" id="ref-for-propdef-margin-right⑤">margin-right</span> is <span class="css">auto</span>,
	solve the equation for that value.
	If the values are over-constrained,
	ignore the value for <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left⑧">left</a> (in case the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction①">direction</a> property of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④①">containing block</a> is <span class="css" id="ref-for-valdef-direction-rtl①">rtl</span>)
	or <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right⑧">right</a> (in case <span class="property" id="ref-for-propdef-direction②">direction</span> is <span class="css" id="ref-for-valdef-direction-ltr②">ltr</span>) and solve for that value.</p>
   <p>Otherwise,
	set <span class="css">auto</span> values for <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left⑥">margin-left</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right⑥">margin-right</a> to <span class="css">0</span>,
	and pick one of the following six rules that apply.</p>
   <ol>
    <li> If <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left⑨">left</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width②">width</a> are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto①⑨">auto</a> and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right⑨">right</a> is not <span class="css" id="ref-for-valdef-top-auto②⓪">auto</span>,
		then the width is shrink-to-fit.
		Then solve for <span class="property" id="ref-for-propdef-left①⓪">left</span>. 
    <li> If <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left①①">left</a> and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right①⓪">right</a> are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②①">auto</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width③">width</a> is not <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-sizing-3/#valdef-width-auto" id="ref-for-valdef-width-auto">auto</a>,
		then if the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction③">direction</a> property of
		the element establishing the static-position <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④②">containing block</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr" id="ref-for-valdef-direction-ltr③">ltr</a> set <span class="property" id="ref-for-propdef-left①②">left</span> to the static-position,
		otherwise set <span class="property" id="ref-for-propdef-right①①">right</span> to the static-position.
		Then solve for <span class="property" id="ref-for-propdef-left①③">left</span> (if <span class="property" id="ref-for-propdef-direction④">direction</span> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl" id="ref-for-valdef-direction-rtl②">rtl</a>)
		or <span class="property" id="ref-for-propdef-right①②">right</span> (if <span class="property" id="ref-for-propdef-direction⑤">direction</span> is <span class="css" id="ref-for-valdef-direction-ltr④">ltr</span>). 
    <li> If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width④">width</a> and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right①③">right</a> are <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-sizing-3/#valdef-width-auto" id="ref-for-valdef-width-auto①">auto</a> and <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left①④">left</a> is not <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②②">auto</a>,
		then the width is shrink-to-fit.
		Then solve for <span class="property" id="ref-for-propdef-right①④">right</span>. 
    <li> If <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left①⑤">left</a> is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②③">auto</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑤">width</a> and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right①⑤">right</a> are not <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-sizing-3/#valdef-width-auto" id="ref-for-valdef-width-auto②">auto</a>,
		then solve for <span class="property" id="ref-for-propdef-left①⑥">left</span>. 
    <li> If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑥">width</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-sizing-3/#valdef-width-auto" id="ref-for-valdef-width-auto③">auto</a>, <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left①⑦">left</a> and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right①⑥">right</a> are not <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②④">auto</a>,
		then solve for <span class="property" id="ref-for-propdef-width⑦">width</span>. 
    <li> If <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right①⑦">right</a> is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②⑤">auto</a>, <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left①⑧">left</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑧">width</a> are not <span class="css" id="ref-for-valdef-top-auto②⑥">auto</span>,
		then solve for <span class="property" id="ref-for-propdef-right①⑧">right</span>. 
   </ol>
   <table class="data" id="abspos-auto">
    <caption> Summary of rules for <code>dir=ltr</code> in horizontal writing modes </caption>
    <colgroup span="5">
    <colgroup span="1">
    <thead>
     <tr>
      <th colspan="5">Is auto? 
      <th rowspan="2">Result 
     <tr>
      <th><a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left①⑨">left</a> 
      <th><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑨">width</a> 
      <th><a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right①⑨">right</a> 
      <th><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left⑦">margin-left</a> 
      <th><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right⑦">margin-right</a> 
    <tbody>
     <tr>
      <td>✔ 
      <td>✔ 
      <td>✔ 
      <td colspan="2">any 
      <td>
       <ul>
        <li>auto margins → zero 
        <li>left → static pos 
        <li>width → shrink-to-fit 
        <li>right → solve 
       </ul>
     <tr>
      <td rowspan="4">✘ 
      <td rowspan="4">✘ 
      <td rowspan="4">✘ 
      <td>✔ 
      <td>✘ 
      <td rowspan="2"> auto margin → free space 
     <tr>
      <td>✘ 
      <td>✔ 
     <tr>
      <td>✔ 
      <td>✔ 
      <td>
       <ul>
        <li>margins split positive free space 
        <li>right margin gets negative free space 
       </ul>
     <tr>
      <td>✘ 
      <td>✘ 
      <td> treat <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right②⓪">right</a> as <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②⑦">auto</a> 
     <tr>
      <td>✔ 
      <td>✘ 
      <td>✔ 
      <td colspan="2">any 
      <td>
       <ul>
        <li>auto margins → zero 
        <li>left → static pos 
        <li>width → as specified 
        <li>right → solve 
       </ul>
     <tr>
      <td>✔ 
      <td>✔ 
      <td>✘ 
      <td colspan="2">any 
      <td>
       <ul>
        <li>auto margins → zero 
        <li>left → solve 
        <li>width → shrink-to-fit 
        <li>right → as specified 
       </ul>
     <tr>
      <td>✘ 
      <td>✔ 
      <td>✔ 
      <td colspan="2">any 
      <td>
       <ul>
        <li>auto margins → zero 
        <li>left → as specified 
        <li>width → shrink-to-fit 
        <li>right → solve 
       </ul>
     <tr>
      <td>✔ 
      <td>✘ 
      <td>✘ 
      <td colspan="2" rowspan="3">any 
      <td rowspan="3">
       <ul>
        <li>auto margins → zero 
        <li>solve for auto 
       </ul>
     <tr>
      <td>✘ 
      <td>✘ 
      <td>✔ 
     <tr>
      <td>✘ 
      <td>✔ 
      <td>✘ 
   </table>

</details>
<h3 class="heading settled" data-level="6.2" id="abs-replaced-width"><span class="secno">6.2. </span><span class="content"> The width of absolute or fixed positioned, replaced elements</span><a class="self-link" href="#abs-replaced-width"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height">height</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width①⓪">width</a> both have computed values of <span class="css">auto</span> and the element also has an intrinsic width,
	then that intrinsic width is the used value of <span class="property" id="ref-for-propdef-width①①">width</span>.</p>
   <p>If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height①">height</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width①②">width</a> both have computed values of <span class="css">auto</span> and the element has no intrinsic width,
	but does have an intrinsic height and intrinsic ratio;
	or if <span class="property" id="ref-for-propdef-width①③">width</span> has a computed value of <span class="css">auto</span>, <span class="property" id="ref-for-propdef-height②">height</span> has some other computed value,
	and the element does have an intrinsic ratio;
	then the used value of <span class="property" id="ref-for-propdef-width①④">width</span> is:</p>
   <p><code>(used height) * (intrinsic ratio)</code></p>
   <p>If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height③">height</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width①⑤">width</a> both have computed values of <span class="css">auto</span>,
	the element has an intrinsic ratio but no intrinsic height or width,
	and the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④③">containing block’s</a> width
	does not itself depend on the replaced element’s width,
	then the used value of <span class="property" id="ref-for-propdef-width①⑥">width</span> is calculated
	from the constraint equation used for <a href="https://www.w3.org/TR/CSS21/visudet.html#blockwidth">block-level, non-replaced elements in </a><a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#normal-flow" id="ref-for-normal-flow">normal flow</a>.</p>
   <p>Otherwise, if <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width①⑦">width</a> has a computed value of <span class="css">auto</span>,
	and the element has an intrinsic width,
	then that intrinsic width is the used value of <span class="property" id="ref-for-propdef-width①⑧">width</span>.</p>
   <p>Otherwise, if <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width①⑨">width</a> has a computed value of <span class="css">auto</span>,
	but none of the conditions above are met,
	and then the used value of <span class="property" id="ref-for-propdef-width②⓪">width</span> becomes <span class="css">300px</span>.
	If <span class="css">300px</span> is too wide to fit the device,
	user agents should use the width of the largest rectangle
	that has a 2:1 ratio and fits the device instead.</p>
   <p>After establishing the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width②①">width</a>,
	in order to position the replaced element,
	apply the following rules as appropriate.</p>
   <ol>
    <li> If both <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left②⓪">left</a> and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right②①">right</a> have the value <span class="css">auto</span>,
		and if the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction⑥">direction</a> property of
		the element establishing the static-position <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④④">containing block</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr" id="ref-for-valdef-direction-ltr⑤">ltr</a>,
		set <span class="property" id="ref-for-propdef-left②①">left</span> to the static position and solve for <span class="property" id="ref-for-propdef-right②②">right</span>;
		else if <span class="property" id="ref-for-propdef-direction⑦">direction</span> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl" id="ref-for-valdef-direction-rtl③">rtl</a>,
		set <span class="property" id="ref-for-propdef-right②③">right</span> to the static position and solve for <span class="property" id="ref-for-propdef-left②②">left</span>. 
    <li> If <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left②③">left</a> is <span class="css">auto</span> and <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right②④">right</a> is not <span class="css">auto</span>,
		replace any <span class="css">auto</span> on <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left⑧">margin-left</a> or <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right⑧">margin-right</a> with <span class="css">0</span>,
		then solve for <span class="property" id="ref-for-propdef-left②④">left</span>. 
    <li> If <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right②⑤">right</a> is <span class="css">auto</span> and <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left②⑤">left</a> is not <span class="css">auto</span>,
		replace any <span class="css">auto</span> on <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left⑨">margin-left</a> or <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right⑨">margin-right</a> with <span class="css">0</span>,
		then solve for <span class="property" id="ref-for-propdef-right②⑥">right</span>. 
    <li> If at this point both <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-left" id="ref-for-propdef-margin-left①⓪">margin-left</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-right" id="ref-for-propdef-margin-right①⓪">margin-right</a> are still <span class="css">auto</span>,
		solve the equation under the extra constraint
		that the two margins must get equal values,
		unless this would make them negative,
		in which case when the direction of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④⑤">containing block</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr" id="ref-for-valdef-direction-ltr⑥">ltr</a> (<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl" id="ref-for-valdef-direction-rtl④">rtl</a>),
		set <span class="property" id="ref-for-propdef-margin-left①①">margin-left</span> (<span class="property" id="ref-for-propdef-margin-right①①">margin-right</span>) to <span class="css">0</span> and solve for <span class="property" id="ref-for-propdef-margin-right①②">margin-right</span> (<span class="property" id="ref-for-propdef-margin-left①②">margin-left</span>). 
    <li> If at this point there is an <span class="css">auto</span> remaining,
		solve the equation for that value. 
    <li> If at this point the values are over-constrained,
		ignore the value for either <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left②⑥">left</a> (in case the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction⑧">direction</a> property of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④⑥">containing block</a> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl" id="ref-for-valdef-direction-rtl⑤">rtl</a>)
		or <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right②⑦">right</a> (in case <span class="property" id="ref-for-propdef-direction⑨">direction</span> is <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr" id="ref-for-valdef-direction-ltr⑦">ltr</a>)
		and solve for that value. 
   </ol>

</details>
<h3 class="heading settled" data-level="6.3" id="abs-non-replaced-height"><span class="secno">6.3. </span><span class="content"> The Height Of Absolutely Positioned, Non-Replaced Elements</span><a class="self-link" href="#abs-non-replaced-height"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>For absolutely positioned elements,
	the used values of the vertical dimensions
	must satisfy this constraint:</p>
   <p><code> <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top⑨">top</a> + <span><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-top" id="ref-for-propdef-margin-top">margin-top</a></span> + <span><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-width" id="ref-for-propdef-border-top-width">border-top-width</a></span> + <span><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-padding-top" id="ref-for-propdef-padding-top">padding-top</a></span> + <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height④">height</a> + <span><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-padding-bottom" id="ref-for-propdef-padding-bottom">padding-bottom</a></span> + <span><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-backgrounds-3/#propdef-border-bottom-width" id="ref-for-propdef-border-bottom-width">border-bottom-width</a></span> + <span><a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-bottom" id="ref-for-propdef-margin-bottom">margin-bottom</a></span> + <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom⑤">bottom</a> = <span>height of containing block</span> </code></p>
   <p>If all three of <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top①⓪">top</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑤">height</a>, and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom⑥">bottom</a> are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto②⑧">auto</a>:
	First set any <span class="css" id="ref-for-valdef-top-auto②⑨">auto</span> values for <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-top" id="ref-for-propdef-margin-top①">margin-top</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-bottom" id="ref-for-propdef-margin-bottom①">margin-bottom</a> to <span class="css">0</span>,
	then set <span class="property" id="ref-for-propdef-top①①">top</span> to the static position,
	and finally apply rule number <em>three</em> below.</p>
   <p>If none of the three are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto③⓪">auto</a>:
	If both <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-top" id="ref-for-propdef-margin-top②">margin-top</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-bottom" id="ref-for-propdef-margin-bottom②">margin-bottom</a> are <span class="css" id="ref-for-valdef-top-auto③①">auto</span>,
	solve the equation under the extra constraint that the two margins get equal values.
	If one of <span class="property" id="ref-for-propdef-margin-top③">margin-top</span> or <span class="property" id="ref-for-propdef-margin-bottom③">margin-bottom</span> is <span class="css" id="ref-for-valdef-top-auto③②">auto</span>,
	solve the equation for that value.
	If the values are over-constrained,
	ignore the value for <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom⑦">bottom</a> and solve for that value.</p>
   <p>Otherwise,
	set <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto③③">auto</a> values for <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-top" id="ref-for-propdef-margin-top④">margin-top</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-bottom" id="ref-for-propdef-margin-bottom④">margin-bottom</a> to <span class="css">0</span>,
	and pick one of the following six rules that apply.</p>
   <ol>
    <li data-md>
     <p>If <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top①②">top</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑥">height</a> are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto③④">auto</a> and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom⑧">bottom</a> is not <span class="css" id="ref-for-valdef-top-auto③⑤">auto</span>,
then the height is based on the <a href="https://www.w3.org/TR/CSS2/visudet.html#root-height">Auto heights for block formatting context roots</a>,
and solve for <span class="property" id="ref-for-propdef-top①③">top</span>.</p>
    <li data-md>
     <p>If <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top①④">top</a> and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom⑨">bottom</a> are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto③⑥">auto</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑦">height</a> is not <span class="css" id="ref-for-valdef-top-auto③⑦">auto</span>,
then set <span class="property" id="ref-for-propdef-top①⑤">top</span> to the static position,
then solve for <span class="property" id="ref-for-propdef-bottom①⓪">bottom</span>.</p>
    <li data-md>
     <p>If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑧">height</a> and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①①">bottom</a> are <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto③⑧">auto</a> and <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top①⑥">top</a> is not <span class="css" id="ref-for-valdef-top-auto③⑨">auto</span>,
then the height is based on the <a href="https://www.w3.org/TR/CSS2/visudet.html#root-height">Auto heights for block formatting context roots</a>,
and solve for <span class="property" id="ref-for-propdef-bottom①②">bottom</span>.</p>
    <li data-md>
     <p>If <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top①⑦">top</a> is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④⓪">auto</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑨">height</a> and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①③">bottom</a> are not <span class="css" id="ref-for-valdef-top-auto④①">auto</span>,
then solve for <span class="property" id="ref-for-propdef-top①⑧">top</span>.</p>
    <li data-md>
     <p>If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height①⓪">height</a> is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④②">auto</a>, <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top①⑨">top</a> and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①④">bottom</a> are not <span class="css" id="ref-for-valdef-top-auto④③">auto</span>,
then solve for <span class="property" id="ref-for-propdef-height①①">height</span>.</p>
    <li data-md>
     <p>If <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①⑤">bottom</a> is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④④">auto</a>, <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top②⓪">top</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height①②">height</a> are not <span class="css" id="ref-for-valdef-top-auto④⑤">auto</span>,
then solve for <span class="property" id="ref-for-propdef-bottom①⑥">bottom</span>.</p>
   </ol>

</details>
<h3 class="heading settled" data-level="6.4" id="abs-replaced-height"><span class="secno">6.4. </span><span class="content"> The Height Of Absolutely Positioned, Replaced Elements</span><a class="self-link" href="#abs-replaced-height"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>If <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height①③">height</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width②②">width</a> both have computed values of <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④⑥">auto</a> and the element also has an intrinsic height,
	then that intrinsic height is the used value of <span class="property" id="ref-for-propdef-height①④">height</span>.</p>
   <p>Otherwise, if <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height①⑤">height</a> has a computed value of <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④⑦">auto</a> and the element has an intrinsic ratio
	then the used value of <span class="property" id="ref-for-propdef-height①⑥">height</span> is:</p>
   <p><code>(used width) / (intrinsic ratio)</code></p>
   <p>Otherwise, if <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height①⑦">height</a> has a computed value of <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④⑧">auto</a> and the element has an intrinsic height,
	then that intrinsic height is the used value of <span class="property" id="ref-for-propdef-height①⑧">height</span>.</p>
   <p>Otherwise, if <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height①⑨">height</a> has a computed value of <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto④⑨">auto</a>,
	but none of the conditions above are met,
	then the used value of <span class="property" id="ref-for-propdef-height②⓪">height</span> must be set to
	the height of the largest rectangle that has a 2:1 ratio,
	has a height not greater than <span class="css">150px</span>,
	and has a width not greater than the device width.</p>
   <p>After establishing the <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-height" id="ref-for-propdef-height②①">height</a>,
	in order to position the replaced element,
	apply the following rules as appropriate.</p>
   <ol>
    <li data-md>
     <p>If both <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top②①">top</a> and <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①⑦">bottom</a> have the value <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑤⓪">auto</a>,
replace <span class="property" id="ref-for-propdef-top②②">top</span> with the element’s static position.</p>
    <li data-md>
     <p>If <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①⑧">bottom</a> is <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑤①">auto</a>,
replace any <span class="css" id="ref-for-valdef-top-auto⑤②">auto</span> on <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-top" id="ref-for-propdef-margin-top⑤">margin-top</a> or <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-bottom" id="ref-for-propdef-margin-bottom⑤">margin-bottom</a> with <span class="css">0</span>.</p>
    <li data-md>
     <p>If at this point both <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-top" id="ref-for-propdef-margin-top⑥">margin-top</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-box-4/#propdef-margin-bottom" id="ref-for-propdef-margin-bottom⑥">margin-bottom</a> are still <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑤③">auto</a>,
solve the equation under the extra constraint
that the two margins must get equal values.</p>
    <li data-md>
     <p>If at this point there is only one <a class="css" data-link-type="maybe" href="#valdef-top-auto" id="ref-for-valdef-top-auto⑤④">auto</a> remaining,
solve the equation for that value.</p>
    <li data-md>
     <p>If at this point the values are over-constrained,
ignore the value for <a class="property css" data-link-type="property" href="#propdef-bottom" id="ref-for-propdef-bottom①⑨">bottom</a> and solve for that value.</p>
   </ol>

</details>
<h2 class="heading settled" data-level="7" id="comparison"><span class="secno">7. </span><span class="content"> Informative Comparison of Normal Flow, Floats, and Positioning</span><a class="self-link" href="#comparison"></a></h2>
<details class="valor-spec" data-level="2">
  <summary>Show spec text</summary>

<p><em>This section is not normative.</em></p>
   <p>To illustrate the differences between <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#normal-flow" id="ref-for-normal-flow①">normal flow</a>, <a data-link-type="dfn" href="#relative-position" id="ref-for-relative-position⑧">relative positioning</a>, <a data-link-type="dfn" href="https://www.w3.org/TR/css-page-floats-3/#float" id="ref-for-float">floats</a>, and <a data-link-type="dfn" href="#absolute-position" id="ref-for-absolute-position①⑥">absolute positioning</a>,
	we provide a series of examples based on the following HTML:</p>
   <div class="example" id="example-5752760c">
    <a class="self-link" href="#example-5752760c"></a> 
<pre class="lang-html highlight"><c- cp>&lt;!DOCTYPE html></c->
<c- p>&lt;</c-><c- f>html</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>head</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>title</c-><c- p>></c->Comparison of positioning schemes<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>style</c-><c- p>></c->
          <c- f>body</c-> <c- p>{</c-> <c- k>display</c-><c- p>:</c-> <c- kc>block</c-><c- p>;</c-> <c- k>font-size</c-><c- p>:</c-><c- mi>12</c-><c- b>px</c-><c- p>;</c-> <c- k>line-height</c-><c- p>:</c-> <c- mi>200</c-><c- b>%</c-><c- p>;</c->
                  <c- k>width</c-><c- p>:</c-> <c- mi>400</c-><c- b>px</c-><c- p>;</c-> <c- k>height</c-><c- p>:</c-> <c- mi>400</c-><c- b>px</c-> <c- p>}</c->
          <c- f>p</c->    <c- p>{</c-> <c- k>display</c-><c- p>:</c-> <c- kc>block</c-> <c- p>}</c->
          <c- f>span</c-> <c- p>{</c-> <c- k>display</c-><c- p>:</c-> <c- kc>inline</c-> <c- p>}</c->
        <c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>head</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>body</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>p</c-><c- p>></c->
        Beginning of p contents.
        <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"outer"</c-><c- p>></c-> Start of outer contents.
        <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"inner"</c-><c- p>></c-> Inner contents.<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
        End of outer contents.<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
        End of p contents.
    <c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>body</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>html</c-><c- p>></c->
</pre>
   </div>
   <p>The final positions of boxes generated by the <em>outer</em> and <em>inner</em> elements vary in each example. In each illustration, the numbers to the left of
	the illustration indicate the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#normal-flow" id="ref-for-normal-flow②">normal flow</a> position of the
	double-spaced (for clarity) lines.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The diagrams in this section are illustrative and not to scale. They are
	meant to highlight the differences between the various <a data-link-type="dfn" href="#positioning-scheme" id="ref-for-positioning-scheme⑧">positioning
	schemes</a>, and are not intended to be reference renderings of the
	examples given.</p>

</details>
<h3 class="heading settled" data-level="7.1" id="comp-normal-flow"><span class="secno">7.1. </span><span class="content"> Normal Flow Example</span><a class="self-link" href="#comp-normal-flow"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>Consider the following CSS declarations for <em>outer</em> and <em>inner</em> that do not alter the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#normal-flow" id="ref-for-normal-flow③">normal flow</a> of boxes:</p>
   <div class="example" id="example-d045d8f9">
    <a class="self-link" href="#example-d045d8f9"></a> 
<pre class="lang-css highlight">#outer <c- p>{</c-> <c- k>color</c-><c- p>:</c-> red <c- p>}</c->
#inner <c- p>{</c-> <c- k>color</c-><c- p>:</c-> blue <c- p>}</c->
</pre>
   </div>
   <p>The P element contains all inline content: <a href="https://www.w3.org/TR/CSS2/visuren.html#anonymous">anonymous inline text</a> and
	two SPAN elements. Therefore, all of the content will be laid out in an inline
	formatting context, within a <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④⑦">containing block</a> established by the P element, producing
	something like:</p>
   <figure>
     <img alt="Image illustrating the normal flow of text between parent and sibling boxes." height="342" src="images/flow-generic.png" width="326"> 
    <figcaption> All of the text within the P’s containing block flows together as continuous text,
		even though it’s located in separated nested elements. </figcaption>
   </figure>

</details>
<h3 class="heading settled" data-level="7.2" id="comp-relpos"><span class="secno">7.2. </span><span class="content"> Relative Positioning Example</span><a class="self-link" href="#comp-relpos"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>To see the effect of <a data-link-type="dfn" href="#relative-position" id="ref-for-relative-position⑨">relative positioning</a>,
	we specify:</p>
   <div class="example" id="example-bf500659">
    <a class="self-link" href="#example-bf500659"></a> 
<pre class="lang-css highlight">#outer <c- p>{</c-> <c- k>position</c-><c- p>:</c-> relative<c- p>;</c-> <c- k>top</c-><c- p>:</c-> <c- m>-12</c-><c- k>px</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> red <c- p>}</c->
#inner <c- p>{</c-> <c- k>position</c-><c- p>:</c-> relative<c- p>;</c-> <c- k>top</c-><c- p>:</c-> <c- m>12</c-><c- k>px</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> blue <c- p>}</c->
</pre>
   </div>
   <p>Text flows normally up to the <em>outer</em> element. The <em>outer</em> text is
	then flowed into its <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#normal-flow" id="ref-for-normal-flow④">normal flow</a> position and dimensions at the end of line 1. Then,
	the inline boxes containing the text (distributed over three lines) are shifted as a
	unit by <span class="css">-12px</span> (upwards).</p>
   <p>The contents of <em>inner</em>, as a child of <em>outer</em>, would normally flow
	immediately after the words "of outer contents" (on line 1.5). However, the <em>inner</em> contents are themselves offset relative to the <em>outer</em> contents by <span class="css">12px</span> (downwards), back to their original position on line 2.</p>
   <p class="note" role="note"> Note that the content following <em>outer</em> is not affected by the relative
		positioning of <em>outer</em>. </p>
   <figure>
     <img height="342" src="images/flow-relative.png" width="326"> 
    <figcaption> The result is identical to normal flow,
			except that the "outer" text is shifted 12px upward,
			without affecting the flow of the "body" or "inner" text. </figcaption>
   </figure>
   <p class="note" role="note"> Note also that had the offset of <em>outer</em> been <span class="css">-24px</span>, the text	of <em>outer</em> and the body text would have overlapped. </p>

</details>
<h3 class="heading settled" data-level="7.3" id="comp-floating"><span class="secno">7.3. </span><span class="content"> Floating Example</span><a class="self-link" href="#comp-floating"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>Now consider the effect of <a href="https://www.w3.org/TR/CSS2/visuren.html#floats"> floating</a> the <em>inner</em> element’s text to the right by means of the
	following rules:</p>
   <div class="example" id="example-7c19fd19">
    <a class="self-link" href="#example-7c19fd19"></a> 
<pre class="lang-css highlight">#outer <c- p>{</c-> <c- k>color</c-><c- p>:</c-> red <c- p>}</c->
#inner <c- p>{</c-> <c- k>float</c-><c- p>:</c-> right<c- p>;</c-> <c- k>width</c-><c- p>:</c-> <c- m>130</c-><c- k>px</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> blue <c- p>}</c->
</pre>
   </div>
   <p>Text flows normally up to the <em>inner</em> box, which is pulled out of the flow
	and <a data-link-type="dfn" href="https://www.w3.org/TR/css-page-floats-3/#float" id="ref-for-float①">floated</a> to the right margin (its <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width②③">width</a> has been
	assigned explicitly). Line boxes to the left of the float are shortened, and the
	document’s remaining text flows into them.</p>
   <figure>
     <img alt="Image illustrating the effects of floating a box." height="342" src="images/flow-float.png" width="326"> 
    <figcaption> The "inner" text lays out in an independent box on the right,
		causing the remaining "body" and "outer" text to flow around it. </figcaption>
   </figure>
   <p>To show the effect of the <a class="property css" data-link-type="property">clear</a> property, we add a <em>sibling</em> element to the
	example:</p>
   <div class="example" id="example-e3784dd4">
    <a class="self-link" href="#example-e3784dd4"></a> 
<pre class="lang-html highlight"><c- cp>&lt;!DOCTYPE html></c->
<c- p>&lt;</c-><c- f>html</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>head</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>title</c-><c- p>></c->Comparison of positioning schemes II<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>style</c-><c- p>></c->
          <c- p>#</c-><c- nn>inner</c-> <c- p>{</c-> <c- k>float</c-><c- p>:</c-> <c- kc>right</c-><c- p>;</c-> <c- k>width</c-><c- p>:</c-> <c- mi>130</c-><c- b>px</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>blue</c-> <c- p>}</c->
          <c- p>#</c-><c- nn>sibling</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>red</c-> <c- p>}</c->
        <c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>head</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>body</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>p</c-><c- p>></c->
        Beginning of p contents.
        <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"outer"</c-><c- p>></c-> Start of outer contents.
        <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"inner"</c-><c- p>></c-> Inner contents.<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"sibling"</c-><c- p>></c-> Sibling contents.<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
        End of outer contents.<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
        End of p contents.
    <c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>body</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>html</c-><c- p>></c->
</pre>
   </div>
   <p>These styles cause the <em>inner</em> box to float to the right, as before,
	and the document’s remaining text to flow into the vacated space:</p>
   <figure>
     <img alt="Image illustrating the effects of floating a box without setting the clear property to control the flow of text around the box." height="342" src="images/flow-clear.png" width="326"> 
    <figcaption> Identical to the previous example,
			save that there is now "sibling" text
			flowing with the "body" and "outer" text. </figcaption>
   </figure>
   <p>However, if the <a class="property css" data-link-type="property">clear</a> property on the <em>sibling</em> element is set to <a class="property css" data-link-type="property" href="#propdef-right" id="ref-for-propdef-right②⑧">right</a> (i.e., the generated <em>sibling</em> box will not accept a position next to <a data-link-type="dfn" href="https://www.w3.org/TR/css-page-floats-3/#float" id="ref-for-float②">floating</a> boxes to its right), the <em>sibling</em> content begins to flow below the
	float:</p>
   <div class="example" id="example-54c91152">
    <a class="self-link" href="#example-54c91152"></a> 
<pre class="lang-css highlight">#inner <c- p>{</c-> <c- k>float</c-><c- p>:</c-> right<c- p>;</c-> <c- k>width</c-><c- p>:</c-> <c- m>130</c-><c- k>px</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> blue <c- p>}</c->
#sibling <c- p>{</c-> <c- k>clear</c-><c- p>:</c-> right<c- p>;</c-> <c- k>color</c-><c- p>:</c-> red <c- p>}</c->
</pre>
   </div>
   <figure>
     <img alt="Image illustrating the effects of floating an element with setting the clear property to control the flow of text around the element." height="342" src="images/flow-clear2.png" width="326"> 
    <figcaption> Now the "sibling" text moves down to below the "inner" text’s box,
			leaving blank space behind.
			The text following the "sibling" text flows after it as normal. </figcaption>
   </figure>

</details>
<h3 class="heading settled" data-level="7.4" id="comp-abspos"><span class="secno">7.4. </span><span class="content"> Absolute Positioning Example</span><a class="self-link" href="#comp-abspos"></a></h3>
<details class="valor-spec" data-level="3">
  <summary>Show spec text</summary>

<p>Next, we consider the effect of absolute positioning. Consider the following CSS
	declarations for <em>outer</em> and <em>inner</em>:</p>
   <div class="example" id="example-90defcbb">
    <a class="self-link" href="#example-90defcbb"></a> 
<pre class="lang-css highlight">#outer <c- p>{</c->
    <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
    <c- k>top</c-><c- p>:</c-> <c- m>200</c-><c- k>px</c-><c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>200</c-><c- k>px</c-><c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- m>200</c-><c- k>px</c-><c- p>;</c->
    <c- k>color</c-><c- p>:</c-> red<c- p>;</c->
<c- p>}</c->
#inner <c- p>{</c-> <c- k>color</c-><c- p>:</c-> blue <c- p>}</c->
</pre>
   </div>
   <p>which cause the top of the <em>outer</em> box to be positioned with respect to its <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block④⑧">containing block</a>. The <span id="ref-for-containing-block④⑨">containing block</span> for a positioned box is established by the
	nearest positioned ancestor (or, if none exists, the <span>initial containing block</span>, as in
	our example). The top side of the <em>outer</em> box is <span class="css">200px</span> below the top of the <span id="ref-for-containing-block⑤⓪">containing block</span> and the left side is <span class="css">200px</span> from the left side. The child box of <em>outer</em> is flowed normally with respect to its parent.</p>
   <figure>
     <img alt="Image illustrating the effects of absolutely positioning a box." height="342" src="images/flow-absolute.png" width="326"> 
    <figcaption> All of the text within #outer (the "outer" and "inner" text)
			moves down to an independent box in the lower right corner.
			The two halves of "body" text flow together. </figcaption>
   </figure>
   <p>The following example shows an absolutely positioned box that is a child of a relatively
	positioned box. Although the parent <em>outer</em> box is not actually offset, setting
	its <a class="property css" data-link-type="property" href="#propdef-position" id="ref-for-propdef-position①①">position</a> property to <a class="css" data-link-type="maybe" href="#valdef-position-relative" id="ref-for-valdef-position-relative②">relative</a> means that its box may serve as the containing
	block for positioned descendants. Since the <em>outer</em> box is an inline box that is
	split across several lines, the first inline box’s top and left edges (depicted by thick
	dashed lines in the illustration below) serve as references for <a class="property css" data-link-type="property" href="#propdef-top" id="ref-for-propdef-top②③">top</a> and <a class="property css" data-link-type="property" href="#propdef-left" id="ref-for-propdef-left②⑦">left</a> offsets.</p>
   <div class="example" id="example-f34c6317">
    <a class="self-link" href="#example-f34c6317"></a> 
<pre class="lang-css highlight">#outer <c- p>{</c->
    <c- k>position</c-><c- p>:</c-> relative<c- p>;</c->
    <c- k>color</c-><c- p>:</c-> red
<c- p>}</c->
#inner <c- p>{</c->
    <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
    <c- k>top</c-><c- p>:</c-> <c- m>200</c-><c- k>px</c-><c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>-100</c-><c- k>px</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- m>130</c-><c- k>px</c-><c- p>;</c-> <c- k>width</c-><c- p>:</c-> <c- m>130</c-><c- k>px</c-><c- p>;</c->
    <c- k>color</c-><c- p>:</c-> blue<c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <p>This results in something like the following:</p>
   <figure>
     <img alt="Image illustrating the effects of absolutely positioning a box with respect to a containing block." height="345" src="images/flow-abs-rel.png" width="385"> 
    <figcaption> The "inner" text is positioned in an independent box,
			relative to the top-left corner of the start of the "outer" text. </figcaption>
   </figure>
   <p>If we do not position the <em>outer</em> box:</p>
   <div class="example" id="example-100563b8">
    <a class="self-link" href="#example-100563b8"></a> 
<pre class="lang-css highlight">#outer <c- p>{</c-> <c- k>color</c-><c- p>:</c-> red <c- p>}</c->
#inner <c- p>{</c->
    <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
    <c- k>top</c-><c- p>:</c-> <c- m>200</c-><c- k>px</c-><c- p>;</c-> <c- k>left</c-><c- p>:</c-> <c- m>-100</c-><c- k>px</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- m>130</c-><c- k>px</c-><c- p>;</c-> <c- k>width</c-><c- p>:</c-> <c- m>130</c-><c- k>px</c-><c- p>;</c->
    <c- k>color</c-><c- p>:</c-> blue<c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <p>the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block⑤①">containing block</a> for <em>inner</em> becomes the <span>initial
	containing block</span> (in our example). The following illustration shows where
	the <em>inner</em> box would end up in this case.</p>
   <figure>
     <img alt="Image illustrating the effects of absolutely positioning a box with respect to a containing block established by a normally positioned parent." height="342" src="images/flow-static.png" width="326"> 
    <figcaption> Same as before,
			except now the "inner text" is positioned relative to the top-left corner of the page itself. </figcaption>
   </figure>
   <p>Relative and absolute positioning may be used to implement change bars, as shown
	in the following example. The following fragment:</p>
   <div class="example" id="example-3b789003">
    <a class="self-link" href="#example-3b789003"></a> 
<pre class="lang-html highlight"><c- p>&lt;</c-><c- f>p</c-> <c- e>style</c-><c- o>=</c-><c- s>"position: relative; margin-right: 10px; left: 10px;"</c-><c- p>></c->
  I used two red hyphens to serve as a change bar. They
  will "float" to the left of the line containing THIS
  <c- p>&lt;</c-><c- f>span</c-> <c- e>style</c-><c- o>=</c-><c- s>"position: absolute; top: auto; left: -1em; color: red;"</c-><c- p>></c->--<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
  word.
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
</pre>
   </div>
   <p>might result in something like:</p>
   <figure>
     <img alt="Image illustrating the use of floats to create a changebar effect." height="141" src="images/changebar.png" width="243"> 
    <figcaption> The two red hyphens, indicating a change,
			sit in the left margin of the page
			on the line containing the word "THIS",
			regardless of what line that ends up being. </figcaption>
   </figure>
   <p>First, the paragraph (whose <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#containing-block" id="ref-for-containing-block⑤②">containing block</a> sides are shown in the
	illustration) is flowed normally. Then it is offset <span class="css">10px</span> from the left edge
	of the <span id="ref-for-containing-block⑤③">containing block</span> (thus, a right margin of <span class="css">10px</span> has been
	reserved in anticipation of the offset). The two hyphens acting as change bars
	are taken out of the flow and positioned at the current line (due to 'top: auto'), <span class="css">-1em</span> from the left edge of its containing block (established by the P in
	its final position).	The result is that the change bars seem to "float" to the
	left of the current line.</p>

</details>
<!-- END VERBATIM SPEC: DO NOT EDIT ABOVE. -->

---

## Implementation Status

**Status:** [TODO]

**Code locations:**
- TBD

**Test fixtures:**
- TBD

**Notes:**
- Implementation notes go here

**Spec URL:** https://www.w3.org/TR/css-position-3/

---

## Legal Notice

Legal notice (required for embedded spec text):

```
Valor Browser Engine: https://github.com/valor-software/valor
Copyright © 2025 World Wide Web Consortium. All Rights Reserved. This work is distributed under the W3C® Software and Document License [1] in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
[1] https://www.w3.org/Consortium/Legal/copyright-software
```
