<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Focus and Tabindex</title>
  <style>
    html, body { margin: 0; padding: 0; }
    .box { width: 80px; height: 30px; margin: 6px; background: #eef; }
  </style>
</head>
<body>
  <div id="a" class="box" tabindex="2"></div>
  <div id="b" class="box" tabindex="1"></div>
  <div id="c" class="box"></div>
  <script>
    window._valorRun = function() {
      try {
        const a = document.getElementById('a');
        const b = document.getElementById('b');
        const c = document.getElementById('c');
        // Programmatic focus
        b.focus();
        _valorAssert('activeElement is #b after focus()', document.activeElement === b, 'active='+document.activeElement?.id);
        a.focus();
        _valorAssert('activeElement changes to #a after focus()', document.activeElement === a, 'active='+document.activeElement?.id);
        // Non-focusable by default
        c.focus();
        _valorAssert('element without tabindex stays unfocused', document.activeElement !== c, 'active='+document.activeElement?.id);
      } catch (e) {
        _valorAssert('focus-tabindex-exception', false, String(e && e.stack || e));
      }
    };
  </script>
</body>
</html>
