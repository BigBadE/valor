<!doctype html>
<meta charset="utf-8">
<title>Events Basic</title>
<div id="p"><div id="c"></div></div>
<div id="out"></div>
<script>
 document.addEventListener('DOMContentLoaded', function(){
   var p = document.getElementById('p');
   var c = document.getElementById('c');
   var out = document.getElementById('out');
   var order = [];
   function rec(x){ order.push(x); }
   p.addEventListener('test', function(){ rec('p-capture'); }, { capture: true });
   c.addEventListener('test', function(){ rec('c-target'); });
   p.addEventListener('test', function(){ rec('p-bubble'); }, { once: true });
   var e1 = new Event('test', { bubbles: true });
   c.dispatchEvent(e1);
   var e2 = new Event('test', { bubbles: true });
   c.dispatchEvent(e2);
   out.textContent = order.join(',');
 });
</script>
