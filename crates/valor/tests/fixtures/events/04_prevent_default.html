<!doctype html>
<meta charset="utf-8">
<title>Events Prevent Default</title>
<div id="c">target</div>
<div id="out"></div>
<script>
 document.addEventListener('DOMContentLoaded', function(){
   var d = document;
   var c = d.getElementById('c');
   var out = d.getElementById('out');
   function push(s){ var cur = out.textContent || ''; out.textContent = cur ? (cur + '|' + s) : s; }
   // Document bubble listener reports defaultPrevented
   d.addEventListener('click', function(evt){ push(evt.defaultPrevented ? 'Dbub:PD' : 'Dbub:noPD'); });
   // At-target preventDefault
   c.addEventListener('click', function(evt){ push('T'); evt.preventDefault(); });
   // Dispatch an event with bubbles so the doc listener runs
   var e = new Event('click', { bubbles: true, cancelable: true });
   c.dispatchEvent(e);
 });
</script>
